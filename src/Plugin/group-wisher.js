const a0_0x1e2966=a0_0xdeb3;(function(_0x5265f2,_0x304d30){const _0x52cf23=a0_0xdeb3,_0x46fa16=_0x5265f2();while(!![]){try{const _0x23ba78=parseInt(_0x52cf23(0x150))/0x1+parseInt(_0x52cf23(0x18d))/0x2+parseInt(_0x52cf23(0x17c))/0x3*(parseInt(_0x52cf23(0x18e))/0x4)+-parseInt(_0x52cf23(0x169))/0x5+-parseInt(_0x52cf23(0x16a))/0x6*(parseInt(_0x52cf23(0x160))/0x7)+parseInt(_0x52cf23(0x141))/0x8*(-parseInt(_0x52cf23(0x17d))/0x9)+parseInt(_0x52cf23(0x156))/0xa;if(_0x23ba78===_0x304d30)break;else _0x46fa16['push'](_0x46fa16['shift']());}catch(_0x1d72f4){_0x46fa16['push'](_0x46fa16['shift']());}}}(a0_0x1dc2,0x4b746));function a0_0x1dc2(){const _0x40079b=['close','processCommand','36jKikzB','18YePqDT','subject','⦿\x20Welcome\x20to\x20*@group*!\x20🎉\x0a','writeFileSync','error','writeConfig','notify','g.us','group','⦿\x20You\x27ve\x20been\x20demoted\x20in\x20*@group*\x0a\x0a','replace','catch','sendEventMessage','trim','promote','profilePictureUrl','218386PGFYWO','2064amTDUU','setGlobalSetting','defaultConfig','@g.us','demote','action','groups','hasOwnProperty','caption','Error\x20in\x20execute\x20method:','existsSync','message','join','exit','⿻\x20Hope\x20you\x20had\x20a\x20great\x20time\x20with\x20us!\x0a\x0a','text','Group\x20Chat','fetchUserProfilePicture','configCache','Invalid\x20global\x20setting:\x20','Invalid\x20event\x20type:\x20','loadConfig','Invalid\x20event\x20data\x20structure','Error\x20writing\x20configuration:','⦿\x20We\x27re\x20sad\x20to\x20see\x20you\x20leave\x20*@group*!\x20👋\x0a','fallbackProfilePic','remove','873680eNFPpq','change','Failed\x20to\x20fetch\x20group\x20metadata:','setGlobalEventConfig','dirname','global','https://files.catbox.moe/wpi099.png','readConfig','Invalid\x20participant\x20JID\x20in\x20sendEventMessage','Failed\x20to\x20send\x20event\x20message:','false','normalizeJid','add','image','Invalid\x20participant\x20data:','153202tEMcNB','enabled','configureGroupEvents','participants','No\x20participants\x20found\x20in\x20event\x20data','includes','13110310iGLpsX','⿻\x20Hope\x20you\x20enjoy\x20your\x20stay\x20here!\x0a\x0a','group-participants.update','events','@s.whatsapp.net','configPath','mkdirSync','Database','stringify','endsWith','7myqJyG','formatMessage','sendMessage','readFileSync','Error\x20reading\x20configuration:','⿻\x20Goodbye\x20@name,\x0a','watcher','restartWatcher','utf8','2527690hCLQqr','3279588QDSOmA','welcome','isArray','split','>\x20©\x20ɪɴᴛᴇʟʟɪɢᴇɴᴄᴇ\x20ʙʏ\x20ᴋᴏʀᴅ\x20ɪɴᴄ³²¹™','watch','get-config','useProfilePicture','initializeWatcher','goodbye','exports','⦿\x20You\x27ve\x20been\x20promoted\x20to\x20admin\x20in\x20*@group*\x0a\x0a','forEach','mentionUser','set-global-event','Error\x20in\x20sendEventMessage:'];a0_0x1dc2=function(){return _0x40079b;};return a0_0x1dc2();}function a0_0xdeb3(_0x20cc32,_0x4718b2){const _0x1dc2fc=a0_0x1dc2();return a0_0xdeb3=function(_0xdeb311,_0x13b30c){_0xdeb311=_0xdeb311-0x13b;let _0x2c84fd=_0x1dc2fc[_0xdeb311];return _0x2c84fd;},a0_0xdeb3(_0x20cc32,_0x4718b2);}const fs=require('fs'),path=require('path');class GroupEventManager{constructor(){const _0x2c3e1b=a0_0xdeb3;this[_0x2c3e1b(0x15b)]=path[_0x2c3e1b(0x19a)](__dirname,'..',_0x2c3e1b(0x15d),'group-event-config.json'),this['events']=[_0x2c3e1b(0x158)],this['defaultConfig']={'global':{'events':{'welcome':{'enabled':!![],'message':'⿻\x20Hello\x20@name,\x0a'+_0x2c3e1b(0x17f)+_0x2c3e1b(0x157)+_0x2c3e1b(0x16e)},'goodbye':{'enabled':!![],'message':_0x2c3e1b(0x165)+_0x2c3e1b(0x13e)+_0x2c3e1b(0x19c)+_0x2c3e1b(0x16e)},'promote':{'enabled':!![],'message':'⿻\x20Congratulations\x20@name!\x20🎉\x0a'+_0x2c3e1b(0x175)+_0x2c3e1b(0x16e)},'demote':{'enabled':!![],'message':'⿻\x20Hii\x20@name\x0a'+_0x2c3e1b(0x186)+_0x2c3e1b(0x16e)}},'settings':{'mentionUser':!![],'useProfilePicture':!![],'fallbackProfilePic':_0x2c3e1b(0x147)}},'groups':{}},this['configCache']=null,this['initializeWatcher'](),this[_0x2c3e1b(0x13b)]();}[a0_0x1e2966(0x172)](){const _0x5dc47c=a0_0x1e2966,_0x5f78f7=path['dirname'](this['configPath']);!fs[_0x5dc47c(0x198)](_0x5f78f7)&&fs['mkdirSync'](_0x5f78f7,{'recursive':!![]}),!fs['existsSync'](this[_0x5dc47c(0x15b)])&&this[_0x5dc47c(0x182)](this[_0x5dc47c(0x190)]),this['watcher']=fs[_0x5dc47c(0x16f)](_0x5f78f7,(_0x1ea304,_0x1ce4cb)=>{const _0x362d8a=_0x5dc47c;_0x1ce4cb===path['basename'](this['configPath'])&&_0x1ea304===_0x362d8a(0x142)&&this[_0x362d8a(0x13b)]();}),this['watcher']['on'](_0x5dc47c(0x181),_0x5ea1b9=>{const _0x287fd1=_0x5dc47c;console[_0x287fd1(0x181)]('File\x20watcher\x20error:',_0x5ea1b9),this[_0x287fd1(0x167)]();}),process['on'](_0x5dc47c(0x19b),()=>this['watcher']?.[_0x5dc47c(0x17a)]());}[a0_0x1e2966(0x167)](){const _0x13ec3c=a0_0x1e2966;this['watcher']&&this[_0x13ec3c(0x166)][_0x13ec3c(0x17a)](),setTimeout(()=>{this['initializeWatcher']();},0x3e8);}['loadConfig'](){const _0x25ca04=a0_0x1e2966;try{const _0x34dd8c=this[_0x25ca04(0x148)]();return this[_0x25ca04(0x1a0)]=_0x34dd8c,_0x34dd8c;}catch(_0x358ff1){return console[_0x25ca04(0x181)]('Error\x20loading\x20configuration:',_0x358ff1),this['defaultConfig'];}}['readConfig'](){const _0x280f27=a0_0x1e2966;try{if(!fs[_0x280f27(0x198)](this[_0x280f27(0x15b)]))return this['writeConfig'](this[_0x280f27(0x190)]),this[_0x280f27(0x190)];const _0xcf0181=JSON['parse'](fs[_0x280f27(0x163)](this[_0x280f27(0x15b)],_0x280f27(0x168)));return this[_0x280f27(0x1a0)]=_0xcf0181,_0xcf0181;}catch(_0x23a977){return console[_0x280f27(0x181)](_0x280f27(0x164),_0x23a977),this['configCache']||this[_0x280f27(0x190)];}}[a0_0x1e2966(0x182)](_0x12dcbb){const _0xff0c1a=a0_0x1e2966;try{const _0x3138be=path[_0xff0c1a(0x145)](this['configPath']);return!fs['existsSync'](_0x3138be)&&fs[_0xff0c1a(0x15c)](_0x3138be,{'recursive':!![]}),fs[_0xff0c1a(0x180)](this[_0xff0c1a(0x15b)],JSON[_0xff0c1a(0x15e)](_0x12dcbb,null,0x2)),this[_0xff0c1a(0x1a0)]=_0x12dcbb,!![];}catch(_0x447a3b){return console[_0xff0c1a(0x181)](_0xff0c1a(0x13d),_0x447a3b),![];}}[a0_0x1e2966(0x144)](_0x44789a,_0x363dfc={}){const _0xa6e693=a0_0x1e2966,_0x16f7af=this[_0xa6e693(0x148)]();if(!_0x16f7af[_0xa6e693(0x146)][_0xa6e693(0x159)][_0x44789a])return console[_0xa6e693(0x181)](_0xa6e693(0x1a2)+_0x44789a),![];return _0x16f7af[_0xa6e693(0x146)]['events'][_0x44789a]={..._0x16f7af[_0xa6e693(0x146)][_0xa6e693(0x159)][_0x44789a],..._0x363dfc},this['writeConfig'](_0x16f7af);}[a0_0x1e2966(0x18f)](_0x2f3b98,_0x39cde4){const _0x4161f4=a0_0x1e2966,_0x349b8e=this['readConfig']();if(!_0x349b8e[_0x4161f4(0x146)]['settings'][_0x4161f4(0x195)](_0x2f3b98))return console[_0x4161f4(0x181)](_0x4161f4(0x1a1)+_0x2f3b98),![];return _0x349b8e['global']['settings'][_0x2f3b98]=_0x39cde4,this[_0x4161f4(0x182)](_0x349b8e);}[a0_0x1e2966(0x152)](_0x28ba07,_0x3fecf0={}){const _0x319817=a0_0x1e2966,_0x5e8a3c=this[_0x319817(0x148)](),_0x4dda48=this['normalizeJid'](_0x28ba07);if(!_0x4dda48)return console[_0x319817(0x181)]('Invalid\x20group\x20JID'),![];return!_0x5e8a3c[_0x319817(0x194)][_0x4dda48]&&(_0x5e8a3c[_0x319817(0x194)][_0x4dda48]={'events':{}}),Object['entries'](_0x3fecf0)[_0x319817(0x176)](([_0x5ee4fe,_0x294ee4])=>{const _0x59d1ad=_0x319817;if(!_0x5e8a3c[_0x59d1ad(0x146)][_0x59d1ad(0x159)][_0x5ee4fe]){console[_0x59d1ad(0x181)](_0x59d1ad(0x1a2)+_0x5ee4fe);return;}_0x5e8a3c[_0x59d1ad(0x194)][_0x4dda48][_0x59d1ad(0x159)][_0x5ee4fe]={..._0x5e8a3c[_0x59d1ad(0x194)][_0x4dda48][_0x59d1ad(0x159)][_0x5ee4fe],..._0x294ee4};}),this[_0x319817(0x182)](_0x5e8a3c);}async[a0_0x1e2966(0x19f)](_0x3d3571,_0x1ded60){const _0x1a8fae=a0_0x1e2966;try{const _0xecbe80=this[_0x1a8fae(0x14c)](_0x1ded60);return await _0x3d3571[_0x1a8fae(0x18c)](_0xecbe80,_0x1a8fae(0x14e));}catch(_0xa52fc9){return console[_0x1a8fae(0x181)]('Failed\x20to\x20fetch\x20profile\x20picture:\x20'+_0xa52fc9['message']),null;}}[a0_0x1e2966(0x161)](_0x45b196,_0x1af9b3){const _0x35ebf4=a0_0x1e2966;return _0x45b196['replace'](/@name/g,_0x1af9b3['name'])[_0x35ebf4(0x187)](/@group/g,_0x1af9b3[_0x35ebf4(0x185)]);}[a0_0x1e2966(0x14c)](_0x4fd214){const _0x3b831b=a0_0x1e2966;if(!_0x4fd214)return null;const _0x2cd480=String(_0x4fd214)[_0x3b831b(0x18a)]();if(_0x2cd480[_0x3b831b(0x15f)](_0x3b831b(0x191))||_0x2cd480[_0x3b831b(0x15f)](_0x3b831b(0x15a)))return _0x2cd480;const _0xe9822=_0x2cd480[_0x3b831b(0x187)](/[^\d@]/g,'');if(!_0xe9822)return null;return _0x2cd480['includes'](_0x3b831b(0x184))?_0xe9822+_0x3b831b(0x191):_0xe9822+_0x3b831b(0x15a);}async['execute'](_0x2f1257,_0x469a80){const _0x4c1f1c=a0_0x1e2966;try{if(!_0x469a80||!_0x469a80['action']||!_0x469a80['id'])throw new Error(_0x4c1f1c(0x13c));const _0x42bfbe=[_0x4c1f1c(0x14d),_0x4c1f1c(0x140),_0x4c1f1c(0x18b),_0x4c1f1c(0x192)];if(!_0x42bfbe[_0x4c1f1c(0x155)](_0x469a80[_0x4c1f1c(0x193)]))return;if(!_0x469a80[_0x4c1f1c(0x153)]||!Array[_0x4c1f1c(0x16c)](_0x469a80[_0x4c1f1c(0x153)]))throw new Error(_0x4c1f1c(0x154));const _0xeb5aff=this['readConfig'](),_0x56c45c=this['normalizeJid'](_0x469a80['id']);if(!_0x56c45c)throw new Error('Invalid\x20group\x20JID:\x20'+_0x469a80['id']);const _0x36dc8d={'add':_0x4c1f1c(0x16b),'remove':_0x4c1f1c(0x173),'promote':'promote','demote':_0x4c1f1c(0x192)},_0x2d6458=_0x36dc8d[_0x469a80[_0x4c1f1c(0x193)]],_0xe8de21=_0xeb5aff['global'][_0x4c1f1c(0x159)][_0x2d6458],_0x30f7c0=_0xeb5aff[_0x4c1f1c(0x194)][_0x56c45c]?.[_0x4c1f1c(0x159)]?.[_0x2d6458],_0x2cd3ca=_0x30f7c0?.[_0x4c1f1c(0x151)]??_0xe8de21?.[_0x4c1f1c(0x151)]??![];if(!_0x2cd3ca)return;const _0x5ad888=await _0x2f1257['groupMetadata'](_0x56c45c)[_0x4c1f1c(0x188)](_0x457ef9=>{const _0x5e36bc=_0x4c1f1c;return console[_0x5e36bc(0x181)](_0x5e36bc(0x143),_0x457ef9),{'subject':_0x5e36bc(0x19e)};});for(const _0x1d2192 of _0x469a80[_0x4c1f1c(0x153)]){const _0x1a29f7=this[_0x4c1f1c(0x14c)](typeof _0x1d2192==='string'?_0x1d2192:_0x1d2192?.['id']);if(!_0x1a29f7){console[_0x4c1f1c(0x181)](_0x4c1f1c(0x14f),_0x1d2192);continue;}const _0x51247f=typeof _0x1d2192==='object'&&_0x1d2192[_0x4c1f1c(0x183)]?_0x1d2192[_0x4c1f1c(0x183)]:'@'+_0x1a29f7[_0x4c1f1c(0x16d)]('@')[0x0],_0x22a369={'name':_0x51247f,'group':_0x5ad888[_0x4c1f1c(0x17e)]},_0x4ecba2=_0x30f7c0?.[_0x4c1f1c(0x199)]??_0xe8de21?.[_0x4c1f1c(0x199)];if(!_0x4ecba2){console[_0x4c1f1c(0x181)]('No\x20message\x20template\x20found\x20for\x20event\x20'+_0x2d6458);continue;}const _0x44eec4=this['formatMessage'](_0x4ecba2,_0x22a369);await this[_0x4c1f1c(0x189)](_0x2f1257,_0x56c45c,{'id':_0x1a29f7,'name':_0x51247f},_0x44eec4,_0xeb5aff[_0x4c1f1c(0x146)]['settings'])[_0x4c1f1c(0x188)](_0xd609c4=>{const _0x24886e=_0x4c1f1c;console[_0x24886e(0x181)](_0x24886e(0x14a),_0xd609c4);});}}catch(_0x316608){console[_0x4c1f1c(0x181)](_0x4c1f1c(0x197),_0x316608);throw _0x316608;}}async['sendEventMessage'](_0x3e5dfc,_0x21de0c,_0x201d1b,_0x59bb2f,_0x5e60e9){const _0x39efd2=a0_0x1e2966;try{const _0x4a612b=this[_0x39efd2(0x14c)](_0x201d1b['id']);if(!_0x4a612b)throw new Error(_0x39efd2(0x149));let _0x23dec5=null;if(_0x5e60e9[_0x39efd2(0x171)])try{_0x23dec5=await this[_0x39efd2(0x19f)](_0x3e5dfc,_0x4a612b),!_0x23dec5&&_0x5e60e9['fallbackProfilePic']&&(_0x23dec5=_0x5e60e9[_0x39efd2(0x13f)]);}catch(_0x408c79){console['error']('Failed\x20to\x20fetch\x20profile\x20picture:',_0x408c79),_0x5e60e9[_0x39efd2(0x13f)]&&(_0x23dec5=_0x5e60e9[_0x39efd2(0x13f)]);}const _0x4df454={'mentions':_0x5e60e9[_0x39efd2(0x177)]?[_0x4a612b]:[]};_0x23dec5?(_0x4df454[_0x39efd2(0x14e)]={'url':_0x23dec5},_0x4df454[_0x39efd2(0x196)]=_0x59bb2f):_0x4df454[_0x39efd2(0x19d)]=_0x59bb2f;const _0x5b2d96=await _0x3e5dfc[_0x39efd2(0x162)](_0x21de0c,_0x4df454);return _0x5b2d96;}catch(_0x36f18c){console[_0x39efd2(0x181)](_0x39efd2(0x179),_0x36f18c);throw _0x36f18c;}}[a0_0x1e2966(0x17b)](_0xc6fab,..._0x279035){const _0x41e3ab=a0_0x1e2966;switch(_0xc6fab){case _0x41e3ab(0x178):const [_0x590ea2,_0x4edc6d,_0x22af00]=_0x279035;return this[_0x41e3ab(0x144)](_0x590ea2,{'enabled':_0x4edc6d==='true',..._0x22af00&&{'message':_0x22af00}});case'configure-group-event':const [_0x14038a,_0x47d385,_0x501ddf,_0x37123b]=_0x279035;return this[_0x41e3ab(0x152)](_0x14038a,{[_0x47d385]:{'enabled':_0x501ddf==='true',..._0x37123b&&{'message':_0x37123b}}});case'set-global-setting':const [_0xdad02d,_0x12f72e]=_0x279035;return this[_0x41e3ab(0x18f)](_0xdad02d,_0x12f72e==='true'?!![]:_0x12f72e===_0x41e3ab(0x14b)?![]:_0x12f72e);case _0x41e3ab(0x170):return JSON[_0x41e3ab(0x15e)](this[_0x41e3ab(0x148)](),null,0x2);default:return'Unknown\x20command';}}}module[a0_0x1e2966(0x174)]=new GroupEventManager();