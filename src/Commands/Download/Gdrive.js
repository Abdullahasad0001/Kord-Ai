const a0_0x2e1482=a0_0x5851;(function(_0x4a6397,_0x5d6154){const _0xec6487=a0_0x5851,_0x1a5c64=_0x4a6397();while(!![]){try{const _0x2c9027=-parseInt(_0xec6487(0x206))/0x1+-parseInt(_0xec6487(0x20c))/0x2*(parseInt(_0xec6487(0x218))/0x3)+parseInt(_0xec6487(0x21d))/0x4+parseInt(_0xec6487(0x1fb))/0x5*(parseInt(_0xec6487(0x1f8))/0x6)+parseInt(_0xec6487(0x1eb))/0x7+parseInt(_0xec6487(0x20a))/0x8*(-parseInt(_0xec6487(0x216))/0x9)+parseInt(_0xec6487(0x214))/0xa*(parseInt(_0xec6487(0x1e7))/0xb);if(_0x2c9027===_0x5d6154)break;else _0x1a5c64['push'](_0x1a5c64['shift']());}catch(_0x2fe5b7){_0x1a5c64['push'](_0x1a5c64['shift']());}}}(a0_0x3a63,0x7b12e));const a0_0x2ee7ab=a0_0x5e40;function a0_0x5e40(_0x2c65b5,_0xdb1d1d){const _0x56fb14=a0_0x1414();return a0_0x5e40=function(_0x3b5ee7,_0x3afecd){_0x3b5ee7=_0x3b5ee7-0x1bb;let _0x428d3b=_0x56fb14[_0x3b5ee7];return _0x428d3b;},a0_0x5e40(_0x2c65b5,_0xdb1d1d);}(function(_0x304b61,_0x27c38f){const _0x479a7e=a0_0x5851,_0x3e1868=a0_0x5e40,_0x55a569=_0x304b61();while(!![]){try{const _0xf0fd66=parseInt(_0x3e1868(0x1cc))/0x1+-parseInt(_0x3e1868(0x1db))/0x2*(parseInt(_0x3e1868(0x1cb))/0x3)+-parseInt(_0x3e1868(0x1e6))/0x4+parseInt(_0x3e1868(0x1d1))/0x5*(parseInt(_0x3e1868(0x1ed))/0x6)+-parseInt(_0x3e1868(0x1e1))/0x7+parseInt(_0x3e1868(0x1be))/0x8+parseInt(_0x3e1868(0x1bf))/0x9*(parseInt(_0x3e1868(0x1bb))/0xa);if(_0xf0fd66===_0x27c38f)break;else _0x55a569[_0x479a7e(0x202)](_0x55a569['shift']());}catch(_0x238eb2){_0x55a569[_0x479a7e(0x202)](_0x55a569['shift']());}}}(a0_0x1414,0x78c03));const fetch=require(a0_0x2e1482(0x208)),fs=require('fs')[a0_0x2ee7ab(0x1c6)],fsSync=require('fs'),path=require(a0_0x2ee7ab(0x1d4)),archiver=require(a0_0x2ee7ab(0x1f0)),axios=require(a0_0x2ee7ab(0x1f3)),TEMP_DIR=path[a0_0x2e1482(0x221)](__dirname,a0_0x2ee7ab(0x1f4));module[a0_0x2ee7ab(0x1f6)]={'usage':[a0_0x2ee7ab(0x1f8),a0_0x2ee7ab(0x1fb)],'desc':a0_0x2ee7ab(0x1e3),'commandType':a0_0x2ee7ab(0x1bc),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'☁️','execute':handleDriveCommand};async function handleDriveCommand(_0x32f686,_0x5db4d3,_0x532506,_0x28ebb2){const _0x2e6f9b=a0_0x2e1482,_0x569fcb=a0_0x2ee7ab;if(!_0x532506[0x0])return await replyMessage('*_❌\x20Please\x20provide\x20a\x20Google\x20Drive\x20URL._*');const _0x136325=_0x532506[0x0];try{if(!isValidDriveUrl(_0x136325))return await replyMessage(_0x569fcb(0x1c4));_0x136325[_0x569fcb(0x1dd)](_0x569fcb(0x1ce))?await handleFolder(_0x136325,_0x32f686,_0x5db4d3):await handleFile(_0x136325,_0x32f686,_0x5db4d3);}catch(_0x371877){console[_0x569fcb(0x1f7)](_0x569fcb(0x1f9),_0x371877),await replyMessage(_0x569fcb(0x1d8)+(_0x371877[_0x569fcb(0x1d3)]||_0x2e6f9b(0x1f0)));}}async function handleFolder(_0x4a35fc,_0x5ba3af,_0x1ff232){const _0x2229f6=a0_0x2e1482,_0x2fd0e7=a0_0x2ee7ab;try{const _0x56c73e=await getFolderFiles(_0x4a35fc);if(!_0x56c73e[_0x2fd0e7(0x1ea)])throw new Error(_0x2fd0e7(0x1c5));await replyMessage(_0x2fd0e7(0x1da)+_0x56c73e[_0x2fd0e7(0x1ea)]+_0x2fd0e7(0x1de));for(const _0x2bff8a of _0x56c73e){try{await downloadAndSendFile(_0x2bff8a,_0x5ba3af,_0x1ff232),await new Promise(_0x18f681=>setTimeout(_0x18f681,0x3e8));}catch(_0xb47fc1){console[_0x2fd0e7(0x1f7)](_0x2229f6(0x217)+_0x2bff8a+':',_0xb47fc1);}}await replyMessage(_0x2fd0e7(0x1ca));}catch(_0x6fc0d2){throw new Error(_0x2fd0e7(0x1fa)+_0x6fc0d2[_0x2fd0e7(0x1d3)]);}}async function getFolderFiles(_0x2be161){const _0xdf96aa=a0_0x2e1482,_0x1be244=a0_0x2ee7ab;try{const _0x25e56a=_0x2be161[_0x1be244(0x1d0)](/folders\/([^/?]+)/)?.[0x1];if(!_0x25e56a)throw new Error(_0x1be244(0x1eb));const _0x58ddfa=await axios[_0xdf96aa(0x222)](_0x1be244(0x1c7)+_0x25e56a,{'headers':{'User-Agent':_0x1be244(0x1ec)}}),_0x44f462=[],_0x1a7225=_0x58ddfa[_0x1be244(0x1c0)][_0x1be244(0x1d0)](/\/file\/d\/([^/"\s]+)/g)||[];for(const _0x594161 of _0x1a7225){const _0x39f47e=_0x594161[_0xdf96aa(0x200)]('/')[0x3];_0x39f47e&&!_0x44f462[_0x1be244(0x1dd)](_0x39f47e)&&_0x44f462[_0x1be244(0x1d6)](_0x39f47e);}return _0x44f462;}catch(_0x451e84){throw new Error(_0x1be244(0x1c8)+_0x451e84[_0x1be244(0x1d3)]);}}async function handleFile(_0x287187,_0x2cf901,_0x46bec8){const _0x51384c=a0_0x2ee7ab,_0x40b860=extractFileId(_0x287187);if(!_0x40b860)throw new Error(_0x51384c(0x1e4));await downloadAndSendFile(_0x40b860,_0x2cf901,_0x46bec8);}async function downloadAndSendFile(_0xed986d,_0x284fc3,_0x1aab0b){const _0x9e1f4d=a0_0x2e1482,_0x1da767=a0_0x2ee7ab;try{const _0x3e4390=await getDownloadInfo(_0xed986d);await replyMessage(_0x1da767(0x1c2)+_0x3e4390[_0x1da767(0x1f2)]);const _0x22dcbd=path[_0x9e1f4d(0x221)](TEMP_DIR,_0x3e4390[_0x1da767(0x1f2)]);await downloadFile(_0x3e4390[_0x1da767(0x1cd)],_0x22dcbd),await _0x284fc3[_0x1da767(0x1e2)](_0x1aab0b[_0x1da767(0x1e0)][_0x1da767(0x1e8)],{'document':fsSync[_0x9e1f4d(0x1e9)](_0x22dcbd),'fileName':_0x3e4390[_0x9e1f4d(0x1f4)],'mimetype':_0x3e4390[_0x1da767(0x1dc)]||_0x1da767(0x1d9)},{'quoted':_0x1aab0b}),await fs[_0x1da767(0x1e9)](_0x22dcbd),await replyMessage(_0x1da767(0x1d2)+_0x3e4390[_0x1da767(0x1f2)]);}catch(_0xccb8df){throw new Error(_0x1da767(0x1c1)+_0xccb8df[_0x1da767(0x1d3)]);}}function a0_0x1414(){const _0x13f0b6=a0_0x2e1482,_0x140390=[_0x13f0b6(0x202),_0x13f0b6(0x1fd),'❌\x20Error:\x20',_0x13f0b6(0x1f5),_0x13f0b6(0x1fc),_0x13f0b6(0x224),_0x13f0b6(0x209),_0x13f0b6(0x223),_0x13f0b6(0x21f),_0x13f0b6(0x1f1),'key',_0x13f0b6(0x1ec),_0x13f0b6(0x205),'Download\x20files/folders\x20from\x20Google\x20Drive','Invalid\x20file\x20URL','stream',_0x13f0b6(0x211),_0x13f0b6(0x222),'remoteJid',_0x13f0b6(0x204),'length',_0x13f0b6(0x201),_0x13f0b6(0x20d),_0x13f0b6(0x219),_0x13f0b6(0x1ed),_0x13f0b6(0x1ee),_0x13f0b6(0x1ff),_0x13f0b6(0x1e8),_0x13f0b6(0x1f4),_0x13f0b6(0x21a),_0x13f0b6(0x20b),_0x13f0b6(0x1ea),'exports',_0x13f0b6(0x215),'gdrive','Drive\x20Download\x20Error:',_0x13f0b6(0x220),'googledrive','2432590ymXgOs',_0x13f0b6(0x213),'headers',_0x13f0b6(0x225),_0x13f0b6(0x1f9),'data',_0x13f0b6(0x210),'⏳\x20Downloading:\x20',_0x13f0b6(0x200),'*❌\x20Invalid\x20Google\x20Drive\x20URL.*',_0x13f0b6(0x21b),_0x13f0b6(0x1fe),_0x13f0b6(0x212),_0x13f0b6(0x20e),'map',_0x13f0b6(0x203),_0x13f0b6(0x21e),'680965GlpGaw','downloadUrl',_0x13f0b6(0x226),_0x13f0b6(0x21c),'match',_0x13f0b6(0x1f3),_0x13f0b6(0x1f2),_0x13f0b6(0x1ef),'path','content-type'];return a0_0x1414=function(){return _0x140390;},a0_0x1414();}async function getDownloadInfo(_0x3de495){const _0x4e1586=a0_0x2e1482,_0x25d684=a0_0x2ee7ab;try{const _0x3f69d0=await axios[_0x25d684(0x1e7)](_0x25d684(0x1f5)+_0x3de495+_0x25d684(0x1d7),{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36'},'maxRedirects':0x0,'validateStatus':_0x5623a5=>_0x5623a5>=0xc8&&_0x5623a5<0x190}),_0x52114c=_0x3f69d0[_0x25d684(0x1c0)][_0x25d684(0x1d0)](/confirm=([^&]+)/)?.[0x1],_0x42a1a6=_0x3f69d0[_0x25d684(0x1bd)][_0x4e1586(0x20f)]?.[_0x25d684(0x1c9)](_0x572f1a=>_0x572f1a[_0x25d684(0x1c3)](';')[0x0])[_0x4e1586(0x221)](';\x20');let _0x336931,_0x5efdc5=_0x3de495,_0x3878a9=_0x25d684(0x1d9);_0x52114c?_0x336931=_0x25d684(0x1f5)+_0x3de495+_0x25d684(0x1df)+_0x52114c:_0x336931=_0x25d684(0x1f5)+_0x3de495+_0x25d684(0x1d7);const _0xb84975=_0x3f69d0[_0x25d684(0x1bd)][_0x4e1586(0x1f6)];if(_0xb84975){const _0x4238f9=_0xb84975[_0x25d684(0x1d0)](/filename\*?=['"]?(?:UTF-\d['"]*)?([^;\r\n']*)['"]?;?/i);_0x4238f9&&(_0x5efdc5=decodeURIComponent(_0x4238f9[0x1]));}const _0x461ae8=_0x3f69d0['headers'][_0x25d684(0x1d5)];return _0x461ae8&&(_0x3878a9=_0x461ae8),{'downloadUrl':_0x336931,'fileName':_0x5efdc5,'mimeType':_0x3878a9,'cookies':_0x42a1a6};}catch(_0x68f80a){throw new Error('Failed\x20to\x20get\x20download\x20info:\x20'+_0x68f80a[_0x25d684(0x1d3)]);}}async function downloadFile(_0x437f86,_0x1660a0){const _0x522571=a0_0x2e1482,_0x288f09=a0_0x2ee7ab,_0x397336=await axios({'method':_0x522571(0x1f7),'url':_0x437f86,'responseType':_0x288f09(0x1e5),'headers':{'User-Agent':_0x522571(0x20d)}}),_0xe712f5=fsSync[_0x288f09(0x1ef)](_0x1660a0);return _0x397336[_0x288f09(0x1c0)][_0x288f09(0x1f1)](_0xe712f5),new Promise((_0x2281f0,_0x8c1b36)=>{const _0x10a8aa=_0x522571,_0x233973=_0x288f09;_0xe712f5['on'](_0x233973(0x1cf),_0x2281f0),_0xe712f5['on'](_0x10a8aa(0x215),_0x8c1b36);});}function a0_0x5851(_0xd5ec13,_0x265125){const _0x3a63cd=a0_0x3a63();return a0_0x5851=function(_0x5851c6,_0x548c5f){_0x5851c6=_0x5851c6-0x1e7;let _0x2c77cc=_0x3a63cd[_0x5851c6];return _0x2c77cc;},a0_0x5851(_0xd5ec13,_0x265125);}function isValidDriveUrl(_0x556299){const _0x4151e3=a0_0x2e1482;return/drive\.google\.com\/(file\/d\/|drive\/folders\/)/i[_0x4151e3(0x207)](_0x556299);}function a0_0x3a63(){const _0x299358=['includes','1690wbgebI','6418192CahIiy','/folders/','83083OJaShs','pipe','createReadStream','https://drive.google.com/uc?id=','4789400joDfay','778337ifGXBs','reply','createWriteStream','message','Unknown\x20error\x20occurred','&export=download&confirm=','✅\x20Sent:\x20','165670YGsccK','fileName','application/octet-stream','content-disposition','GET','6IVToFO','9KBgNpu','mkdir','3005930lQzjeK','📂\x20Found\x20','&export=download','promises','archiver','split','Invalid\x20folder\x20URL','push','✅\x20Folder\x20download\x20completed!','unlink','sendMessage','199965yvTbGW','test','node-fetch','mimeType','2916040LUigIR','../tmp/','322lzauHH','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.124\x20Safari/537.36','Failed\x20to\x20get\x20folder\x20contents:\x20','set-cookie','Download\x20failed:\x20','3535300HcGpvR','https://drive.google.com/drive/folders/','Download','530SKzpQp','error','9TJejid','Error\x20with\x20file\x20','17979LZAFRC','132JuTAzY','axios','No\x20accessible\x20files\x20found','finish','1391032tebZpn','3429tlnjqC','\x20files.\x20Starting\x20download...','Folder\x20processing\x20failed:\x20','join','get'];a0_0x3a63=function(){return _0x299358;};return a0_0x3a63();}function extractFileId(_0x33a456){const _0x12cc58=_0x33a456['match'](/\/file\/d\/([^/]+)/);return _0x12cc58?_0x12cc58[0x1]:null;}async function replyMessage(_0x2a762c){const _0x538d62=a0_0x2ee7ab;return await kord[_0x538d62(0x1ee)](_0x2a762c);}((async()=>{const _0x9ad5ef=a0_0x2e1482;try{await fs['access'](TEMP_DIR);}catch{await fs[_0x9ad5ef(0x1fa)](TEMP_DIR,{'recursive':!![]});}})());