const a0_0x14de76=a0_0x4e75;function a0_0x2a33(){const _0xf8c7a9=['POST','/v1/identify','msg','identifyaudio','find','7868feeTBD','now','sha1','sendVideo','createHmac','getResponseText','➤\x20*YouTube*:\x20','yt-search','fluent-ffmpeg','➤\x20*Uploaded*:\x20','https://youtube.com/watch?v=','crypto','N/A','exports','56OyMVeG','error','audio','buffer','➤\x20*Duration*:\x20','13757FtJXRB','existsSync','host','_*failed\x20to\x20download\x20media*_','sendImage','../../Plugin/tools','_*Audio\x20Found!*_\x0a\x0a','extendedTextMessage','*YouTube\x20Info:*\x0a','map','quotedMessage','youtube','contextInfo','_*Failed\x20to\x20download\x20media.*_','digest','spotify','track','_*An\x20error\x20occured*_:\x20','toString','access_key','signature_version','views','url','Identifies\x20audio/music\x20using\x20ACRCloud\x20API','https://open.spotify.com/track/','sendAudio','duration','access_secret','external_metadata','json','end','528kPcbSw','sample','video','YouTube\x20search\x20error:','toLowerCase','151010LyNDxf','cut_','thumbnail','base64','signature','endpoint','*_Listen\x20On:_*\x0a','append','path','➤\x20*Artist*:\x20','join','shazam','Error\x20identifying\x20audio:','8c21a32a02bf79a4a26cb0fa5c941e95','update','NRSxpk6fKwEiVdNhyx5lR0DP8LzeflYpClNg1gze','length','node-fetch','869064bIZIkS','artists','toLocaleString','1510220qXPHPs','album','12hSiBvI','title','filename','reply','readFile','form-data','downloadQuotedMedia','unlinkSync','utf-8','writeFile','348GdVzxU','_*REPLY\x20audio\x20or\x20video\x20to\x20download\x20it!*_','react','711567tEoWSL','sample_bytes','*_video\x20for\x20','extension','639505awskSX','data_type','temp_','name'];a0_0x2a33=function(){return _0xf8c7a9;};return a0_0x2a33();}function a0_0x4e75(_0x108774,_0x4c276f){const _0x2a33a8=a0_0x2a33();return a0_0x4e75=function(_0x4e75ea,_0x2bd991){_0x4e75ea=_0x4e75ea-0x1c5;let _0x547b0f=_0x2a33a8[_0x4e75ea];return _0x547b0f;},a0_0x4e75(_0x108774,_0x4c276f);}(function(_0x4ce442,_0x5514fb){const _0x456f61=a0_0x4e75,_0x36f2fa=_0x4ce442();while(!![]){try{const _0x375967=parseInt(_0x456f61(0x225))/0x1+-parseInt(_0x456f61(0x1f6))/0x2+parseInt(_0x456f61(0x1f3))/0x3+parseInt(_0x456f61(0x1f8))/0x4*(-parseInt(_0x456f61(0x209))/0x5)+-parseInt(_0x456f61(0x202))/0x6*(parseInt(_0x456f61(0x212))/0x7)+-parseInt(_0x456f61(0x220))/0x8*(-parseInt(_0x456f61(0x205))/0x9)+-parseInt(_0x456f61(0x1e1))/0xa*(-parseInt(_0x456f61(0x1dc))/0xb);if(_0x375967===_0x5514fb)break;else _0x36f2fa['push'](_0x36f2fa['shift']());}catch(_0xff35b3){_0x36f2fa['push'](_0x36f2fa['shift']());}}}(a0_0x2a33,0x5c381));const crypto=require(a0_0x14de76(0x21d)),fs=require('fs'),path=require(a0_0x14de76(0x1e9)),FormData=require(a0_0x14de76(0x1fd)),fetch=require(a0_0x14de76(0x1f2)),os=require('os'),{promises:fsPromises}=require('fs'),ffmpeg=require(a0_0x14de76(0x21a)),yts=require(a0_0x14de76(0x219)),{ytaudio,ytvideo}=require(a0_0x14de76(0x22a));module[a0_0x14de76(0x21f)]={'usage':[a0_0x14de76(0x210),a0_0x14de76(0x211),a0_0x14de76(0x1ec)],'description':a0_0x14de76(0x1d4),'isPrivateOnly':![],'isGroupOnly':![],'isAdminOnly':![],async 'execute'(_0x3b3105,_0x4a14e4,_0xef7a3f,_0x4af54b){const _0x175873=a0_0x14de76;try{await _0x4af54b[_0x175873(0x204)]('⏳');let _0x8dc455;if(_0x4a14e4['message'][_0x175873(0x22c)]?.[_0x175873(0x1c9)]?.[_0x175873(0x1c7)]){_0x8dc455=await _0x4af54b[_0x175873(0x1fe)]();if(!_0x8dc455?.[_0x175873(0x223)])return await _0x4af54b[_0x175873(0x1fb)](_0x175873(0x1ca));}else{_0x8dc455=await _0x4af54b['downloadQuotedMedia']();if(!_0x8dc455?.[_0x175873(0x223)])return await _0x4af54b[_0x175873(0x1fb)](_0x175873(0x228));}const _0x321935=path[_0x175873(0x1eb)](os['tmpdir'](),_0x8dc455[_0x175873(0x1fa)]||_0x175873(0x20b)+Date[_0x175873(0x213)]()+'.'+_0x8dc455[_0x175873(0x208)]),_0x41a99e=path[_0x175873(0x1eb)](os['tmpdir'](),_0x175873(0x1e2)+Date['now']()+'.mp3');await fsPromises[_0x175873(0x201)](_0x321935,_0x8dc455[_0x175873(0x223)]),await audioCut(_0x321935,_0x41a99e,0x0,0xf);const _0x43d76b=await fsPromises[_0x175873(0x1fc)](_0x41a99e),_0x58cb1e={'host':'identify-eu-west-1.acrcloud.com','endpoint':_0x175873(0x20e),'signature_version':'1','data_type':_0x175873(0x222),'secure':!![],'access_key':_0x175873(0x1ee),'access_secret':_0x175873(0x1f0)},_0x22c9b7=Math['floor'](Date[_0x175873(0x213)]()/0x3e8),_0x17a2ec=buildStringToSign(_0x175873(0x20d),_0x58cb1e[_0x175873(0x1e6)],_0x58cb1e[_0x175873(0x1d0)],_0x58cb1e['data_type'],_0x58cb1e['signature_version'],_0x22c9b7),_0x3705fc=sign(_0x17a2ec,_0x58cb1e[_0x175873(0x1d8)]),_0x14e29d=new FormData();_0x14e29d[_0x175873(0x1e8)](_0x175873(0x1dd),_0x43d76b),_0x14e29d[_0x175873(0x1e8)](_0x175873(0x206),_0x43d76b[_0x175873(0x1f1)]),_0x14e29d['append'](_0x175873(0x1d0),_0x58cb1e[_0x175873(0x1d0)]),_0x14e29d[_0x175873(0x1e8)](_0x175873(0x20a),_0x58cb1e['data_type']),_0x14e29d[_0x175873(0x1e8)](_0x175873(0x1d1),_0x58cb1e[_0x175873(0x1d1)]),_0x14e29d['append'](_0x175873(0x1e5),_0x3705fc),_0x14e29d[_0x175873(0x1e8)]('timestamp',_0x22c9b7);const _0x15614b=await fetch('http://'+_0x58cb1e[_0x175873(0x227)]+_0x58cb1e[_0x175873(0x1e6)],{'method':_0x175873(0x20d),'body':_0x14e29d}),{status:_0x3df336,metadata:_0x5be6e2}=await _0x15614b[_0x175873(0x1da)]();if(_0x3df336['code']===0x0){const _0x5339cd=_0x5be6e2['music'][0x0];let _0x54fecd=null;try{const _0x4e4927=_0x5339cd[_0x175873(0x1f9)]+'\x20'+_0x5339cd[_0x175873(0x1f4)][0x0][_0x175873(0x20c)],_0x3671b6=await yts(_0x4e4927);_0x54fecd=_0x3671b6['videos'][0x0];}catch(_0x12f957){console[_0x175873(0x221)](_0x175873(0x1df),_0x12f957);}const _0x35a900=_0x175873(0x22b)+('➤\x20*Title*:\x20'+_0x5339cd['title']+'\x0a')+(_0x175873(0x1ea)+_0x5339cd[_0x175873(0x1f4)][_0x175873(0x1c6)](_0x5db25e=>_0x5db25e[_0x175873(0x20c)])[_0x175873(0x1eb)](',\x20')+'\x0a')+('➤\x20*Album*:\x20'+_0x5339cd[_0x175873(0x1f7)][_0x175873(0x20c)]+'\x0a')+('➤\x20*Released*:\x20'+(_0x5339cd['release_date']||_0x175873(0x21e))+'\x0a\x0a')+_0x175873(0x1e7)+('➤\x20*Spotify*:\x20'+(_0x5339cd['external_metadata'][_0x175873(0x1cc)]?.[_0x175873(0x1cd)]['id']?_0x175873(0x1d5)+_0x5339cd[_0x175873(0x1d9)][_0x175873(0x1cc)][_0x175873(0x1cd)]['id']:_0x175873(0x21e))+'\x0a')+(_0x175873(0x218)+(_0x54fecd?_0x54fecd[_0x175873(0x1d3)]:_0x5339cd[_0x175873(0x1d9)][_0x175873(0x1c8)]?.['vid']?_0x175873(0x21c)+_0x5339cd[_0x175873(0x1d9)]['youtube']['vid']:_0x175873(0x21e))+'\x0a\x0a')+(_0x54fecd?_0x175873(0x1c5)+('➤\x20*Views*:\x20'+_0x54fecd[_0x175873(0x1d2)][_0x175873(0x1f5)]()+'\x0a')+(_0x175873(0x224)+_0x54fecd[_0x175873(0x1d7)]['timestamp']+'\x0a')+(_0x175873(0x21b)+_0x54fecd['ago']+'\x0a'):'')+_0x175873(0x203),_0xee0531=_0x54fecd?.[_0x175873(0x1e3)]||(_0x5339cd[_0x175873(0x1d9)]['spotify']?.[_0x175873(0x1f7)]['id']?'https://i.scdn.co/image/'+_0x5339cd[_0x175873(0x1d9)][_0x175873(0x1cc)][_0x175873(0x1f7)]['id']:'https://via.placeholder.com/300');var _0xf63454=await _0x4af54b[_0x175873(0x229)](_0xee0531,''+_0x35a900);try{var _0x1ee32a=await _0x4af54b[_0x175873(0x217)](_0xf63454,0xea60),_0x558873=_0x1ee32a['response'];if(_0x558873[_0x175873(0x1e0)]()===_0x175873(0x222)){var _0x3f3165=await ytaudio(_0x54fecd[_0x175873(0x1d3)]);await _0x4af54b[_0x175873(0x1d6)](_0x3f3165);}else{if(_0x558873[_0x175873(0x1e0)]()===_0x175873(0x1de)){var _0x386c4d=await ytvideo(_0x54fecd[_0x175873(0x1d3)]);await _0x4af54b[_0x175873(0x215)](_0x386c4d,_0x175873(0x207)+_0x5339cd['title']+'_*');}}}catch(_0x5e5895){console[_0x175873(0x221)](_0x5e5895);}}else await _0x4af54b['reply']('*Failed\x20to\x20identify\x20audio*\x0a\x0a_Error:\x20'+_0x3df336[_0x175873(0x20f)]+'_');const _0x1b9f59=[_0x321935,_0x41a99e];for(const _0x5b8602 of _0x1b9f59){fs[_0x175873(0x226)](_0x5b8602)&&fs[_0x175873(0x1ff)](_0x5b8602);}}catch(_0x34f2e3){console['error'](_0x175873(0x1ed),_0x34f2e3),await _0x4af54b[_0x175873(0x1fb)](_0x175873(0x1ce)+_0x34f2e3);}}};async function audioCut(_0x5461f1,_0x49b72f,_0x1aab79,_0x258911){return new Promise((_0x1e0bc8,_0xc75f54)=>{const _0x45ecea=a0_0x4e75;ffmpeg(_0x5461f1)['setStartTime'](_0x1aab79)['setDuration'](_0x258911-_0x1aab79)['output'](_0x49b72f)['on'](_0x45ecea(0x1db),()=>_0x1e0bc8())['on'](_0x45ecea(0x221),_0x4deb3a=>_0xc75f54(_0x4deb3a))['run']();});}function buildStringToSign(_0xe31c6e,_0x55e1c3,_0x263697,_0x4689b0,_0x2e7cae,_0xa8aa8a){return[_0xe31c6e,_0x55e1c3,_0x263697,_0x4689b0,_0x2e7cae,_0xa8aa8a]['join']('\x0a');}function sign(_0x5411ba,_0x4d8329){const _0x521788=a0_0x14de76;return crypto[_0x521788(0x216)](_0x521788(0x214),_0x4d8329)[_0x521788(0x1ef)](Buffer['from'](_0x5411ba,_0x521788(0x200)))[_0x521788(0x1cb)]()[_0x521788(0x1cf)](_0x521788(0x1e4));}