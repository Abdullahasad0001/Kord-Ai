const a0_0x1de0ad=a0_0x4a8b;(function(_0x394188,_0x5ef45e){const _0x2b491d=a0_0x4a8b,_0x3699bf=_0x394188();while(!![]){try{const _0x2f4079=-parseInt(_0x2b491d(0x18a))/0x1*(-parseInt(_0x2b491d(0x170))/0x2)+-parseInt(_0x2b491d(0x1a7))/0x3+parseInt(_0x2b491d(0x179))/0x4+-parseInt(_0x2b491d(0x17d))/0x5+-parseInt(_0x2b491d(0x1a5))/0x6+parseInt(_0x2b491d(0x199))/0x7+parseInt(_0x2b491d(0x182))/0x8;if(_0x2f4079===_0x5ef45e)break;else _0x3699bf['push'](_0x3699bf['shift']());}catch(_0x4d4196){_0x3699bf['push'](_0x3699bf['shift']());}}}(a0_0x20c0,0x6b4f1));function a0_0x323f(_0x4c108b,_0x163448){const _0xf44e03=a0_0xb8a2();return a0_0x323f=function(_0x571a67,_0x528d8e){_0x571a67=_0x571a67-0x191;let _0xfc373=_0xf44e03[_0x571a67];return _0xfc373;},a0_0x323f(_0x4c108b,_0x163448);}const a0_0xe3efa5=a0_0x323f;function a0_0xb8a2(){const _0x4e0218=a0_0x4a8b,_0x4d6030=['1306868VTQDXn',_0x4e0218(0x195),_0x4e0218(0x187),_0x4e0218(0x17c),'active','ensureConfigDirectory',_0x4e0218(0x1a4),_0x4e0218(0x191),_0x4e0218(0x18d),_0x4e0218(0x19f),_0x4e0218(0x189),'Error\x20saving\x20scheduled\x20messages:',_0x4e0218(0x198),_0x4e0218(0x17e),_0x4e0218(0x174),'toString','string','1350450WyjAXP',_0x4e0218(0x172),_0x4e0218(0x184),_0x4e0218(0x185),_0x4e0218(0x18b),_0x4e0218(0x17b),_0x4e0218(0x1a0),'configPath',_0x4e0218(0x19a),_0x4e0218(0x1a1),_0x4e0218(0x193),_0x4e0218(0x183),_0x4e0218(0x190),_0x4e0218(0x18f),'Invalid\x20WhatsApp\x20connection\x20provided',_0x4e0218(0x197),'existsSync',_0x4e0218(0x1a2),_0x4e0218(0x171),'readFileSync',_0x4e0218(0x1a3),_0x4e0218(0x19d),'scheduledMessages',_0x4e0218(0x17a),'now',_0x4e0218(0x181),_0x4e0218(0x173),'substr','job',_0x4e0218(0x188),_0x4e0218(0x17f),_0x4e0218(0x16f),_0x4e0218(0x19e),'repeat',_0x4e0218(0x1a6),_0x4e0218(0x196),_0x4e0218(0x19c)];return a0_0xb8a2=function(){return _0x4d6030;},a0_0xb8a2();}function a0_0x4a8b(_0x32a358,_0x573ec3){const _0x20c011=a0_0x20c0();return a0_0x4a8b=function(_0x4a8b53,_0x3ada5b){_0x4a8b53=_0x4a8b53-0x16f;let _0x2c558e=_0x20c011[_0x4a8b53];return _0x2c558e;},a0_0x4a8b(_0x32a358,_0x573ec3);}(function(_0x456c49,_0x136140){const _0x29a59b=a0_0x4a8b,_0x228d2b=a0_0x323f,_0x59d40e=_0x456c49();while(!![]){try{const _0x3071cf=-parseInt(_0x228d2b(0x1af))/0x1+parseInt(_0x228d2b(0x19d))/0x2+parseInt(_0x228d2b(0x1a7))/0x3+parseInt(_0x228d2b(0x1c2))/0x4*(parseInt(_0x228d2b(0x1a2))/0x5)+parseInt(_0x228d2b(0x198))/0x6*(-parseInt(_0x228d2b(0x1bb))/0x7)+parseInt(_0x228d2b(0x19a))/0x8+parseInt(_0x228d2b(0x1b4))/0x9;if(_0x3071cf===_0x136140)break;else _0x59d40e['push'](_0x59d40e[_0x29a59b(0x18c)]());}catch(_0x4adc31){_0x59d40e[_0x29a59b(0x188)](_0x59d40e[_0x29a59b(0x18c)]());}}}(a0_0xb8a2,0xb1ffd));const schedule=require(a0_0xe3efa5(0x1ac)),fs=require('fs'),path=require(a0_0xe3efa5(0x1b2));class ScheduledMessageManager{constructor(_0x2d9ff2=null){const _0x382185=a0_0xe3efa5;this[_0x382185(0x1a4)]=_0x2d9ff2||path[_0x382185(0x1a9)](__dirname,'..','..','Database','scheduled_messages.json'),this[_0x382185(0x1b3)]=[],this[_0x382185(0x1aa)]=null,this[_0x382185(0x1c3)]();}[a0_0xe3efa5(0x19e)](_0xf3a8f3){const _0x5ae864=a0_0xe3efa5;if(!_0xf3a8f3)throw new Error(_0x5ae864(0x1ab));return this[_0x5ae864(0x1aa)]=_0xf3a8f3,this;}[a0_0x1de0ad(0x192)](){const _0x4f56ff=a0_0x1de0ad,_0x1788e1=a0_0xe3efa5,_0x414edc=path[_0x1788e1(0x1a3)](this[_0x4f56ff(0x186)]);!fs[_0x1788e1(0x1ad)](_0x414edc)&&fs[_0x4f56ff(0x194)](_0x414edc,{'recursive':!![]});}[a0_0x1de0ad(0x195)](){const _0x4c61e3=a0_0x1de0ad,_0x4933c4=a0_0xe3efa5;try{this[_0x4933c4(0x191)](),!fs[_0x4933c4(0x1ad)](this[_0x4933c4(0x1a4)])&&fs[_0x4933c4(0x1c5)](this[_0x4933c4(0x1a4)],JSON[_0x4933c4(0x1c4)]([]));const _0xc41018=fs[_0x4933c4(0x1b0)](this[_0x4c61e3(0x186)],_0x4c61e3(0x175)),_0x395b2d=JSON[_0x4933c4(0x1bd)](_0xc41018);this[_0x4933c4(0x1b3)]=[],_0x395b2d[_0x4c61e3(0x19b)](_0x54ebd9=>{const _0x1d3594=_0x4c61e3,_0x137918=_0x4933c4;try{this[_0x137918(0x196)](_0x54ebd9);}catch(_0x5bea2d){console['error'](_0x1d3594(0x178),_0x5bea2d);}});}catch(_0x5f3be6){console[_0x4933c4(0x1a8)](_0x4933c4(0x1c0),_0x5f3be6),this['scheduledMessages']=[];}}[a0_0xe3efa5(0x1a5)](){const _0x43be27=a0_0x1de0ad,_0x234cb1=a0_0xe3efa5;try{const _0x3e1784=this[_0x43be27(0x177)][_0x234cb1(0x1a1)](_0x346887=>({'id':_0x346887['id'],'type':_0x346887[_0x234cb1(0x194)],'chatId':_0x346887[_0x234cb1(0x195)],'message':_0x346887[_0x234cb1(0x1a0)],'schedule':_0x346887[_0x43be27(0x181)],'repeat':_0x346887[_0x234cb1(0x1be)]}));fs[_0x43be27(0x17c)](this[_0x234cb1(0x1a4)],JSON[_0x234cb1(0x1c4)](_0x3e1784,null,0x2));}catch(_0x30e022){console[_0x43be27(0x183)](_0x234cb1(0x197),_0x30e022);}}[a0_0xe3efa5(0x196)](_0x41d3a2){const _0x42c06c=a0_0x1de0ad,_0x4d22ca=a0_0xe3efa5;if(!_0x41d3a2[_0x4d22ca(0x195)]||!_0x41d3a2[_0x4d22ca(0x1a0)])throw new Error(_0x4d22ca(0x1c1));const _0x2a4ccf=this[_0x4d22ca(0x193)](),_0x212a7f=_0x41d3a2[_0x4d22ca(0x1b6)]instanceof Date?_0x41d3a2[_0x4d22ca(0x1b6)]:new Date(_0x41d3a2[_0x42c06c(0x181)]),_0x1bb3d8=schedule[_0x4d22ca(0x19f)](_0x212a7f,async()=>{const _0xce487b=_0x42c06c,_0x2fe37b=_0x4d22ca;try{if(!this[_0x2fe37b(0x1aa)])throw new Error(_0x2fe37b(0x1ae));let _0x566c45;if(typeof _0x41d3a2[_0xce487b(0x185)]===_0x2fe37b(0x19c))_0x566c45={'text':_0x41d3a2['message']};else{if(typeof _0x41d3a2[_0x2fe37b(0x1a0)]===_0x2fe37b(0x1a6))_0x566c45=_0x41d3a2[_0x2fe37b(0x1a0)];else throw new Error(_0x2fe37b(0x1bc));}await this[_0x2fe37b(0x1aa)][_0xce487b(0x176)](_0x41d3a2[_0x2fe37b(0x195)],_0x566c45),!_0x41d3a2['repeat']&&this[_0x2fe37b(0x1bf)](_0x2a4ccf);}catch(_0x1e05ff){console[_0x2fe37b(0x1a8)](_0x2fe37b(0x199),_0x1e05ff);}}),_0x74c927={'id':_0x2a4ccf,..._0x41d3a2,'job':_0x1bb3d8,'active':!![]};return this[_0x4d22ca(0x1b3)][_0x4d22ca(0x1ba)](_0x74c927),this[_0x4d22ca(0x1a5)](),_0x2a4ccf;}[a0_0xe3efa5(0x1bf)](_0x115d67){const _0x466456=a0_0x1de0ad,_0x114b96=a0_0xe3efa5,_0x97f992=this[_0x114b96(0x1b3)]['findIndex'](_0x5154f5=>_0x5154f5['id']===_0x115d67);if(_0x97f992!==-0x1){const _0x1931ff=this[_0x114b96(0x1b3)][_0x97f992][_0x114b96(0x1b9)];_0x1931ff&&_0x1931ff[_0x114b96(0x1b7)](),this[_0x114b96(0x1b3)][_0x114b96(0x1b1)](_0x97f992,0x1),this[_0x466456(0x19a)]();}}[a0_0xe3efa5(0x192)](){const _0x5c66e5=a0_0x1de0ad,_0x53974c=a0_0xe3efa5;return this[_0x53974c(0x1b3)][_0x5c66e5(0x18b)](_0x13ff1f=>({'id':_0x13ff1f['id'],'type':_0x13ff1f[_0x53974c(0x194)],'chatId':_0x13ff1f[_0x53974c(0x195)],'schedule':_0x13ff1f[_0x53974c(0x1b6)],'message':_0x13ff1f[_0x5c66e5(0x185)],'active':_0x13ff1f[_0x53974c(0x1c6)]}));}[a0_0x1de0ad(0x191)](){const _0x5c6597=a0_0x1de0ad,_0x159693=a0_0xe3efa5;return Date[_0x159693(0x1b5)]()['toString'](0x24)+Math[_0x5c6597(0x180)]()[_0x159693(0x19b)](0x24)[_0x159693(0x1b8)](0x2);}}function a0_0x20c0(){const _0x28e184=['154oaAdVO','random','schedule','4920200XQAMBH','error','scheduleJob','message','configPath','stringify','push','scheduleMessage','473KZBtOi','map','shift','type','exports','sock','join','generateUniqueId','ensureConfigDirectory','1268154NvVZCn','mkdirSync','loadScheduledMessages','Error\x20loading\x20scheduled\x20messages:','node-schedule','281058QmBACz','474215eXoBsj','saveScheduledMessages','forEach','Invalid\x20message\x20configuration:\x20chatId\x20and\x20message\x20are\x20required','path','parse','chatId','dirname','object','WhatsApp\x20connection\x20(sock)\x20is\x20not\x20set','splice','listScheduledMessages','2026956igayXn','cancelScheduledMessage','1818729LrMyxO','Invalid\x20message\x20format','1262bdxric','1352206yhaYMJ','setSock','cancel','6835472XqQYub','utf8','sendMessage','scheduledMessages','Error\x20rescheduling\x20message:','2533428BVQoPj','4554234lqeHXO','10XaFFUe','writeFileSync','1154920IvgbUt','Error\x20sending\x20scheduled\x20message:'];a0_0x20c0=function(){return _0x28e184;};return a0_0x20c0();}module[a0_0x1de0ad(0x18e)]=ScheduledMessageManager;