const a0_0x316b9c=a0_0x4a10;(function(_0x50dc17,_0x520de2){const _0x6ef2a2=a0_0x4a10,_0x558702=_0x50dc17();while(!![]){try{const _0x919ce9=-parseInt(_0x6ef2a2(0x218))/0x1+-parseInt(_0x6ef2a2(0x21a))/0x2+parseInt(_0x6ef2a2(0x21c))/0x3+parseInt(_0x6ef2a2(0x206))/0x4+-parseInt(_0x6ef2a2(0x213))/0x5+-parseInt(_0x6ef2a2(0x1fa))/0x6*(-parseInt(_0x6ef2a2(0x205))/0x7)+parseInt(_0x6ef2a2(0x222))/0x8;if(_0x919ce9===_0x520de2)break;else _0x558702['push'](_0x558702['shift']());}catch(_0x15d12a){_0x558702['push'](_0x558702['shift']());}}}(a0_0xd6d0,0x44236));function a0_0x4a10(_0x4fbd38,_0x5bae66){const _0xd6d03=a0_0xd6d0();return a0_0x4a10=function(_0x4a10a5,_0x4f9548){_0x4a10a5=_0x4a10a5-0x1ec;let _0x4d6944=_0xd6d03[_0x4a10a5];return _0x4d6944;},a0_0x4a10(_0x4fbd38,_0x5bae66);}function a0_0x3117(){const _0x5f1e75=a0_0x4a10,_0x167570=['fileToUpload',_0x5f1e75(0x201),'ðŸ¤–\x20Analysis\x20failed.\x0a\x0aError:\x20',_0x5f1e75(0x20c),_0x5f1e75(0x1ef),'quotedMessage',_0x5f1e75(0x1fd),'801560bvIGJl','https://litterbox.catbox.moe/resources/internals/api.php',_0x5f1e75(0x202),_0x5f1e75(0x203),_0x5f1e75(0x1f3),_0x5f1e75(0x204),_0x5f1e75(0x223),'uploadToLitterbox',_0x5f1e75(0x22c),'downloadQuotedMedia',_0x5f1e75(0x21f),_0x5f1e75(0x217),'UPLOAD_TIME',_0x5f1e75(0x224),_0x5f1e75(0x20f),'Failed\x20to\x20download\x20media',_0x5f1e75(0x1f5),_0x5f1e75(0x214),'9ODlmSH',_0x5f1e75(0x20a),'axios',_0x5f1e75(0x212),_0x5f1e75(0x21e),_0x5f1e75(0x216),_0x5f1e75(0x1ec),_0x5f1e75(0x20d),_0x5f1e75(0x22b),_0x5f1e75(0x219),_0x5f1e75(0x1f7),_0x5f1e75(0x227),'temp_','saveToTemp','488tLJavX',_0x5f1e75(0x20e),'tmpdir',_0x5f1e75(0x208),_0x5f1e75(0x1fc),'log','33EURRFD',_0x5f1e75(0x1f4),_0x5f1e75(0x1f1),_0x5f1e75(0x220),_0x5f1e75(0x1f9),'downloadMedia',_0x5f1e75(0x210),'unlink',_0x5f1e75(0x221),_0x5f1e75(0x21d),_0x5f1e75(0x1ed),_0x5f1e75(0x1f8),_0x5f1e75(0x22a),'status','File\x20downloaded\x20to:',_0x5f1e75(0x21b),_0x5f1e75(0x1ee),_0x5f1e75(0x229),_0x5f1e75(0x1fb)];return a0_0x3117=function(){return _0x167570;},a0_0x3117();}const a0_0x285056=a0_0x502e;(function(_0x2a807f,_0x595bf4){const _0x18802f=a0_0x4a10,_0x25aaf3=a0_0x502e,_0x37e9ca=_0x2a807f();while(!![]){try{const _0x15ee5f=parseInt(_0x25aaf3(0x18f))/0x1+-parseInt(_0x25aaf3(0x19a))/0x2*(-parseInt(_0x25aaf3(0x1b7))/0x3)+-parseInt(_0x25aaf3(0x18c))/0x4*(parseInt(_0x25aaf3(0x182))/0x5)+-parseInt(_0x25aaf3(0x198))/0x6*(-parseInt(_0x25aaf3(0x181))/0x7)+parseInt(_0x25aaf3(0x1ac))/0x8*(-parseInt(_0x25aaf3(0x17e))/0x9)+parseInt(_0x25aaf3(0x188))/0xa*(parseInt(_0x25aaf3(0x192))/0xb)+-parseInt(_0x25aaf3(0x189))/0xc;if(_0x15ee5f===_0x595bf4)break;else _0x37e9ca[_0x18802f(0x215)](_0x37e9ca[_0x18802f(0x211)]());}catch(_0x1b1b34){_0x37e9ca[_0x18802f(0x215)](_0x37e9ca['shift']());}}}(a0_0x3117,0x6fb0e));function a0_0xd6d0(){const _0x4d2f6a=['Utility','fileupload','PROXY_URL','&q=','BK9','uploadToLitterbox','1672440OmijZV','message','analyze','175710MazsMs','path','https://','https://bk9.fun/ai/geminiimg?url=','contextInfo','writeFile','Upload\x20failed:\x20Invalid\x20response\x20from\x20litterbox','Error\x20deleting\x20temporary\x20file:','reqtype','buffer','promises','35pozhLb','1444976QSnkom','gemini-img','361993cHibrq','ðŸ§ \x20Image\x20Analysis:\x0a\x0a','https://broken-star-6439.abrahamdw882.workers.dev/?u=','ðŸ¤–\x20Analysis\x20failed.\x0a\x0aError:\x20','LITTERBOX_API','join','exports','downloadMediaMsg','130434bCYGhc','shift','14KxBgWE','1309230ujiWhT','append','push','sendMessage','3YKbILy','182500PzaLlD','key','194212wYMQBl','Analyze\x20images\x20using\x20Gemini\x20AI.','812712dkQGnb','time','12685GFYhfV','response','Describe\x20this\x20image\x20in\x20detail','291086UlfcQC','335784FQEPJg','includes','remoteJid','now','form-data','2226612FGOLji','extension','DEFAULT_QUESTION','Error\x20in\x20gemini-img\x20command:','trim','error','Failed\x20to\x20download\x20quoted\x20media','get','Analysis\x20failed:\x20Unable\x20to\x20process\x20the\x20image','data','createReadStream'];a0_0xd6d0=function(){return _0x4d2f6a;};return a0_0xd6d0();}function a0_0x502e(_0x38d7f0,_0x11fe82){const _0x1f6f13=a0_0x3117();return a0_0x502e=function(_0x564586,_0x62802){_0x564586=_0x564586-0x17a;let _0x5c325d=_0x1f6f13[_0x564586];return _0x5c325d;},a0_0x502e(_0x38d7f0,_0x11fe82);}const axios=require(a0_0x285056(0x180)),fs=require('fs'),fsPromises=require('fs')[a0_0x285056(0x1b1)],path=require(a0_0x285056(0x1a4)),os=require('os'),FormData=require(a0_0x316b9c(0x226)),CONFIG={'PROXY_URL':a0_0x285056(0x17f),'LITTERBOX_API':a0_0x285056(0x1ad),'DEFAULT_QUESTION':a0_0x285056(0x195),'UPLOAD_TIME':'1h'};class MediaHandler{static async[a0_0x285056(0x197)](_0xef3eef,_0xce45e){const _0x526835=a0_0x316b9c,_0x347ccd=a0_0x285056;if(_0xce45e[_0x526835(0x1f8)]['extendedTextMessage']?.[_0x526835(0x1fe)]?.[_0x347ccd(0x1aa)]){const _0x3946e4=await _0xef3eef[_0x347ccd(0x1b5)](_0xce45e);if(!_0x3946e4)throw new Error(_0x347ccd(0x184));return _0x3946e4;}const _0x23eb3d=await _0xef3eef[_0x347ccd(0x17a)](_0xce45e);if(!_0x23eb3d)throw new Error(_0x347ccd(0x17b));return _0x23eb3d;}static async[a0_0x285056(0x18b)](_0x156ac4,_0x18a34a){const _0x4061cb=a0_0x316b9c,_0x46c778=a0_0x285056,_0x1a435e=path[_0x46c778(0x185)](os[_0x46c778(0x18e)](),_0x46c778(0x18a)+Date[_0x4061cb(0x225)]()+'.'+_0x18a34a);return await fsPromises[_0x4061cb(0x1ff)](_0x1a435e,_0x156ac4),console[_0x46c778(0x191)](_0x46c778(0x1a0),_0x1a435e),_0x1a435e;}static async[a0_0x285056(0x1b3)](_0x2a2391){const _0x41ba77=a0_0x316b9c,_0xd839e7=a0_0x285056,_0x4e2659=new FormData();_0x4e2659[_0xd839e7(0x17d)](_0xd839e7(0x1ae),_0x41ba77(0x1f2)),_0x4e2659[_0x41ba77(0x214)](_0xd839e7(0x19b),CONFIG[_0xd839e7(0x1b8)]),_0x4e2659[_0x41ba77(0x214)](_0xd839e7(0x1a5),fs[_0x41ba77(0x1f0)](_0x2a2391));const _0x39ed1d=await axios['post'](CONFIG[_0xd839e7(0x1a8)],_0x4e2659,{'headers':_0x4e2659['getHeaders']()}),_0xaba170=_0x39ed1d[_0xd839e7(0x1a9)][_0xd839e7(0x186)]();if(!_0xaba170[_0xd839e7(0x1b2)](_0xd839e7(0x190)))throw new Error(_0x41ba77(0x200));return _0xaba170;}}module[a0_0x285056(0x18d)]={'usage':[a0_0x316b9c(0x207),a0_0x285056(0x196)],'desc':a0_0x285056(0x1a1),'commandType':a0_0x285056(0x194),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'ðŸ§ ',async 'execute'(_0x274b87,_0x4f4a47,_0x27736a,_0x189c45){const _0x1316fe=a0_0x316b9c,_0x2fbf85=a0_0x285056;let _0x1ad2a9;try{const _0x46f7e2=_0x27736a[_0x2fbf85(0x185)]('\x20')||CONFIG[_0x2fbf85(0x1a3)],_0x45b263=await MediaHandler[_0x2fbf85(0x197)](_0x189c45,_0x4f4a47);_0x1ad2a9=await MediaHandler[_0x2fbf85(0x18b)](_0x45b263[_0x2fbf85(0x1af)],_0x45b263[_0x1316fe(0x228)]);const _0x279482=await MediaHandler[_0x1316fe(0x1f6)](_0x1ad2a9),_0x2fa1cb=_0x2fbf85(0x1ab)+encodeURIComponent(_0x279482)+_0x2fbf85(0x193)+encodeURIComponent(_0x46f7e2),_0x2ac1ea=await axios[_0x2fbf85(0x19c)](CONFIG[_0x2fbf85(0x1b0)]+encodeURIComponent(_0x2fa1cb));if(!_0x2ac1ea[_0x2fbf85(0x1a9)][_0x2fbf85(0x19f)])throw new Error(_0x2fbf85(0x1a2));await _0x274b87[_0x2fbf85(0x183)](_0x4f4a47[_0x1316fe(0x219)][_0x2fbf85(0x1b9)],{'text':_0x1316fe(0x209)+_0x2ac1ea[_0x2fbf85(0x1a9)][_0x2fbf85(0x17c)]},{'quoted':_0x4f4a47});}catch(_0x178bf5){console[_0x2fbf85(0x1b4)](_0x2fbf85(0x19e),_0x178bf5[_0x2fbf85(0x1b6)]?.[_0x2fbf85(0x1a9)]||_0x178bf5[_0x2fbf85(0x19d)]);const _0xe6a07e=_0x178bf5['response']?_0x1316fe(0x20b)+(_0x178bf5[_0x2fbf85(0x1b6)][_0x1316fe(0x1ef)][_0x2fbf85(0x19d)]||_0x178bf5[_0x2fbf85(0x19d)]):_0x2fbf85(0x1a7)+_0x178bf5[_0x2fbf85(0x19d)];await _0x274b87[_0x2fbf85(0x183)](_0x4f4a47[_0x2fbf85(0x187)][_0x2fbf85(0x1b9)],{'text':_0xe6a07e},{'quoted':_0x4f4a47});}finally{if(_0x1ad2a9)try{await fsPromises[_0x2fbf85(0x199)](_0x1ad2a9),console['log']('Temporary\x20file\x20deleted:',_0x1ad2a9);}catch(_0x384aec){console[_0x2fbf85(0x1b4)](_0x2fbf85(0x1a6),_0x384aec);}}}};