const a0_0x509fb9=a0_0x40a8;function a0_0x40a8(_0xa46177,_0x2b41aa){const _0x4a3ebc=a0_0x4a3e();return a0_0x40a8=function(_0x40a868,_0xe5e9e6){_0x40a868=_0x40a868-0xd0;let _0x3330dd=_0x4a3ebc[_0x40a868];return _0x3330dd;},a0_0x40a8(_0xa46177,_0x2b41aa);}(function(_0x587145,_0x3d71fe){const _0xc8f462=a0_0x40a8,_0x216bfc=_0x587145();while(!![]){try{const _0x76a6b6=-parseInt(_0xc8f462(0x109))/0x1*(-parseInt(_0xc8f462(0x133))/0x2)+parseInt(_0xc8f462(0xe5))/0x3+parseInt(_0xc8f462(0xf4))/0x4+parseInt(_0xc8f462(0x107))/0x5*(-parseInt(_0xc8f462(0xfb))/0x6)+parseInt(_0xc8f462(0x128))/0x7+parseInt(_0xc8f462(0xd5))/0x8*(-parseInt(_0xc8f462(0x123))/0x9)+parseInt(_0xc8f462(0x131))/0xa;if(_0x76a6b6===_0x3d71fe)break;else _0x216bfc['push'](_0x216bfc['shift']());}catch(_0x48dc98){_0x216bfc['push'](_0x216bfc['shift']());}}}(a0_0x4a3e,0x7f3ac));function a0_0x4a3e(){const _0x10a4fc=['_*Antilink\x20Disabled!*_','groupOnly','videoMessage','entries','join','promises','clear','warnings','message','_*Status:*_\x20','stopListening','Error\x20deleting\x20message:','2194179IqrmbO','error','\x20has\x20been\x20kicked\x20for\x20exceeding\x20maximum\x20warnings.','extendedTextMessage','startListening','antilink\x20kick_\x0a\x20_','length','messages.upsert','remoteJid','reply','add','antilink\x20status_\x0a\x20_','_*Action:_*\x20','from','some','210756GnUSqz','remove','imageMessage','watch','toLowerCase','exports','test','30AOPkpB','editedMessage','antilink_config.json','Admin','groupParticipantsUpdate','warn','maxWarnings','\x0a\x0a*Active\x20Warnings:*','has','Error\x20initializing\x20antilink:','kick','Error\x20updating\x20config:','884755ozURjg','split','5iUyshY','sendMessage','parse','react','conversation','text','enabled','set','participant','handleAction','dirname','Error\x20in\x20link\x20detection:','_Enabled_','writeFile','_*Antilink\x20enabled!*_\x0a\x20_Warncount:_\x20','superadmin','get','admin',',*\x0a\x20_*Links\x20Are\x20Not\x20Allowed!!*_','filter','adminOnly','protocolMessage','Manage\x20antilink\x20feature\x20in\x20a\x20group\x20(warn/kick/delete/status/off)','stringify','utf8','@g.us','23310PAVpSK','readFile','\x0a•\x20@','off','mkdir','5836614VWoksR','updateConfig','_Disabled_','\x20has\x20been\x20kicked\x20for\x20sending\x20links.','values','antilink\x20warn\x203_\x0a\x20_','path','*_\x0a\x0a\x20@','action','8191280OwEQFf','_*For\x20group\x20admins!*_','4022ZnGFog','success','Error\x20in\x20message\x20listener:','warningLocks','status','delete','antilink','3216ZoypPp','caption','key','close'];a0_0x4a3e=function(){return _0x10a4fc;};return a0_0x4a3e();}const fs=require('fs')[a0_0x509fb9(0xde)],path=require(a0_0x509fb9(0x12e)),chokidar=require('chokidar'),emojis={'success':'✅','error':'❌','adminOnly':'👮‍♂️','groupOnly':'👥','link':'🔗'},configPath=path[a0_0x509fb9(0xdd)](__dirname,'..','..','Database',a0_0x509fb9(0xfd));let messageListener=null,groupConfigs=new Map(),watcher=null;const processedMessages=new Set();setInterval(()=>{const _0x51cdf3=a0_0x509fb9;processedMessages[_0x51cdf3(0xdf)]();},0x5*0x3c*0x3e8);const pref='.',linkPatterns={'url':/(?:https?:\/\/)?(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)/gi,'inviteLink':/chat\.whatsapp\.com\/(?:invite\/)?([a-zA-Z0-9]){20,24}/i,'shortLink':/(?:bit\.ly|tinyurl\.com|is\.gd|t\.co|tiny\.cc)\/[a-zA-Z0-9]+/gi,'ipAddress':/(?:https?:\/\/)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}(?::[0-9]{1,5})?(?:\/[^\s]*)*/gi},containsLink=_0xdb5ac1=>{const _0x3b10d6=a0_0x509fb9;if(!_0xdb5ac1)return![];try{for(const [_0x248940,_0x311e89]of Object[_0x3b10d6(0xdc)](linkPatterns)){const _0x49d251=new RegExp(_0x311e89['source'],_0x311e89['flags']),_0xc8886e=_0x49d251[_0x3b10d6(0xfa)](_0xdb5ac1);if(_0xc8886e)return!![];}return![];}catch(_0x3e2914){return console[_0x3b10d6(0xe6)](_0x3b10d6(0x114),_0x3e2914),![];}};function setupConfigWatcher(){const _0x35e486=a0_0x509fb9;watcher&&watcher[_0x35e486(0xd8)](),watcher=chokidar[_0x35e486(0xf7)](configPath,{'persistent':!![],'ignoreInitial':!![]}),watcher['on']('change',async()=>{const _0x1c8b3c=_0x35e486;try{const _0x36c13b=await fs[_0x1c8b3c(0x124)](configPath,'utf8'),_0x11467b=JSON[_0x1c8b3c(0x10b)](_0x36c13b);groupConfigs=new Map(Object[_0x1c8b3c(0xdc)](_0x11467b));}catch(_0x2f2e23){console[_0x1c8b3c(0xe6)]('Error\x20reading\x20updated\x20config:',_0x2f2e23);}});}module[a0_0x509fb9(0xf9)]={'usage':[a0_0x509fb9(0xd4)],'desc':a0_0x509fb9(0x11f),'commandType':a0_0x509fb9(0xfe),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],async 'execute'(_0x55025a,_0xfa7883,_0x26f9ad,_0x8402d7){const _0x3ebdf3=a0_0x509fb9,_0x11d453=_0xfa7883['key'][_0x3ebdf3(0xed)]['endsWith'](_0x3ebdf3(0x122)),_0x19284b=_0xfa7883['key'][_0x3ebdf3(0xed)];if(!_0x11d453)return await _0x8402d7['react'](emojis[_0x3ebdf3(0xda)]),_0x8402d7[_0x3ebdf3(0xee)]('_*For\x20groups\x20only!*_.');const _0xa43239=await _0x55025a['groupMetadata'](_0x19284b),_0x3f9581=_0xfa7883['key'][_0x3ebdf3(0x111)]||_0xfa7883[_0x3ebdf3(0xd7)]['remoteJid'],_0x4a1eed=_0xa43239['participants'][_0x3ebdf3(0xf3)](_0x5bb2c9=>_0x5bb2c9['id']===_0x3f9581&&(_0x5bb2c9[_0x3ebdf3(0x11a)]===_0x3ebdf3(0x11a)||_0x5bb2c9['admin']===_0x3ebdf3(0x118)));if(!_0x4a1eed)return await _0x8402d7[_0x3ebdf3(0x10c)](emojis[_0x3ebdf3(0x11d)]),_0x8402d7['reply'](_0x3ebdf3(0x132));const _0x1211cd=_0x26f9ad[0x0]?.[_0x3ebdf3(0xf8)]();let _0xec7122=groupConfigs[_0x3ebdf3(0x119)](_0x19284b)||{'enabled':![],'action':'delete','maxWarnings':0x3,'warnings':{}};this[_0x3ebdf3(0xe3)](_0x55025a);switch(_0x1211cd){case _0x3ebdf3(0x105):case _0x3ebdf3(0x100):case'delete':_0xec7122['enabled']=!![],_0xec7122[_0x3ebdf3(0x130)]=_0x1211cd;_0x1211cd===_0x3ebdf3(0x100)&&(_0xec7122[_0x3ebdf3(0x101)]=parseInt(_0x26f9ad[0x1])||0x3,_0xec7122[_0x3ebdf3(0xe0)]=_0xec7122['warnings']||{});await this['updateConfig'](_0x19284b,_0xec7122),groupConfigs['set'](_0x19284b,_0xec7122),this[_0x3ebdf3(0xe9)](_0x55025a),await _0x8402d7['react'](emojis[_0x3ebdf3(0x134)]);const _0x435c5a=_0x1211cd===_0x3ebdf3(0x100)?_0x3ebdf3(0x117)+_0xec7122[_0x3ebdf3(0x101)]:'_*Antilink\x20enabled!*_\x0a\x20_Action:_\x20'+_0x1211cd+'\x20.';return _0x8402d7[_0x3ebdf3(0xee)](_0x435c5a);case _0x3ebdf3(0x126):_0xec7122[_0x3ebdf3(0x10f)]=![],await this[_0x3ebdf3(0x129)](_0x19284b,_0xec7122);const _0x3f5d08=Array[_0x3ebdf3(0xf2)](groupConfigs[_0x3ebdf3(0x12c)]())['some'](_0x2dcfcc=>_0x2dcfcc['enabled']);!_0x3f5d08?this[_0x3ebdf3(0xe3)](_0x55025a):this[_0x3ebdf3(0xe9)](_0x55025a);await _0x8402d7['react'](emojis['success']);return _0x8402d7[_0x3ebdf3(0xee)](_0x3ebdf3(0xd9));case _0x3ebdf3(0xd2):const _0x27f09c=groupConfigs[_0x3ebdf3(0x119)](_0x19284b)||{'enabled':![],'action':'delete','maxWarnings':0x3,'warnings':{}},_0x11c52c=_0x27f09c['enabled']?emojis['success']:emojis['error'];let _0x4b715c='_*Antilink\x20Status*_\x20'+_0x11c52c+'\x0a\x0a'+(_0x3ebdf3(0xe2)+(_0x27f09c[_0x3ebdf3(0x10f)]?_0x3ebdf3(0x115):_0x3ebdf3(0x12a))+'\x0a')+(_0x3ebdf3(0xf1)+_0x27f09c['action']);if(_0x27f09c[_0x3ebdf3(0x130)]==='warn'){_0x4b715c+='\x0a\x20_Max\x20Warnings:_\x20'+_0x27f09c[_0x3ebdf3(0x101)];const _0x18208a=Object[_0x3ebdf3(0xdc)](_0x27f09c[_0x3ebdf3(0xe0)]||{})[_0x3ebdf3(0x11c)](([_0x48f4e0,_0x4ba40b])=>_0x4ba40b>0x0);if(_0x18208a[_0x3ebdf3(0xeb)]>0x0){_0x4b715c+=_0x3ebdf3(0x102);for(const [_0x4e7f6b,_0x3e21d4]of _0x18208a){_0x4b715c+=_0x3ebdf3(0x125)+_0x4e7f6b[_0x3ebdf3(0x108)]('@')[0x0]+':\x20'+_0x3e21d4+'/'+_0x27f09c[_0x3ebdf3(0x101)];}}}return _0x8402d7[_0x3ebdf3(0xee)](_0x4b715c);default:return _0x8402d7[_0x3ebdf3(0xee)]('*Usage:*\x0a\x0a\x20_'+pref+_0x3ebdf3(0xea)+pref+_0x3ebdf3(0x12d)+pref+'antilink\x20delete_\x0a\x20_'+pref+_0x3ebdf3(0xf0)+pref+'antilink\x20off_');}},async 'updateConfig'(_0xf473a6,_0x47dda7){const _0x3cfddd=a0_0x509fb9;try{let _0x4c399b={};try{const _0xbff02d=await fs[_0x3cfddd(0x124)](configPath,_0x3cfddd(0x121));_0x4c399b=JSON[_0x3cfddd(0x10b)](_0xbff02d);}catch(_0x329050){}_0x4c399b[_0xf473a6]=_0x47dda7,await fs[_0x3cfddd(0x116)](configPath,JSON[_0x3cfddd(0x120)](_0x4c399b,null,0x2),'utf8'),groupConfigs[_0x3cfddd(0x110)](_0xf473a6,_0x47dda7);}catch(_0x334257){console[_0x3cfddd(0xe6)](_0x3cfddd(0x106),_0x334257);throw _0x334257;}},'startListening'(_0x3fa9a3){const _0x259301=a0_0x509fb9;this['stopListening'](_0x3fa9a3),messageListener=async({messages:_0x1d7374})=>{const _0x3db003=a0_0x40a8;for(const _0x2e98b4 of _0x1d7374){try{if(_0x2e98b4[_0x3db003(0xd7)]['fromMe']||!_0x2e98b4[_0x3db003(0xe1)])continue;if(_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0x11e)])continue;const _0x33cd4a=_0x2e98b4[_0x3db003(0xd7)][_0x3db003(0xed)]+':'+_0x2e98b4[_0x3db003(0xd7)]['id'];if(processedMessages[_0x3db003(0x103)](_0x33cd4a))continue;processedMessages[_0x3db003(0xef)](_0x33cd4a);const _0x34daea=_0x2e98b4[_0x3db003(0xd7)][_0x3db003(0xed)];if(!_0x34daea?.['endsWith'](_0x3db003(0x122)))continue;const _0x2ee857=groupConfigs[_0x3db003(0x119)](_0x34daea);if(!_0x2ee857?.[_0x3db003(0x10f)])continue;const _0x212a67=_0x2e98b4[_0x3db003(0xd7)][_0x3db003(0x111)]||_0x2e98b4['key'][_0x3db003(0xed)],_0x57454e=await _0x3fa9a3['groupMetadata'](_0x34daea),_0x4f92f6=_0x57454e['participants'][_0x3db003(0xf3)](_0x2b0833=>_0x2b0833['id']===_0x212a67&&(_0x2b0833[_0x3db003(0x11a)]===_0x3db003(0x11a)||_0x2b0833[_0x3db003(0x11a)]===_0x3db003(0x118)));if(_0x4f92f6)continue;let _0x5c89a9='';if(_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0x10d)])_0x5c89a9=_0x2e98b4['message']['conversation'];else{if(_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0xe8)])_0x5c89a9=_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0xe8)][_0x3db003(0x10e)];else{if(_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0x11e)]?.['type']===0xe){const _0x55f174=_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0x11e)][_0x3db003(0xfc)];if(_0x55f174['conversation'])_0x5c89a9=_0x55f174[_0x3db003(0x10d)];else{if(_0x55f174['extendedTextMessage'])_0x5c89a9=_0x55f174[_0x3db003(0xe8)]['text'];else{if(_0x55f174[_0x3db003(0xf6)])_0x5c89a9=_0x55f174[_0x3db003(0xf6)][_0x3db003(0xd6)]||'';else _0x55f174['videoMessage']&&(_0x5c89a9=_0x55f174['videoMessage'][_0x3db003(0xd6)]||'');}}}else{if(_0x2e98b4[_0x3db003(0xe1)]['imageMessage'])_0x5c89a9=_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0xf6)][_0x3db003(0xd6)]||'';else _0x2e98b4['message'][_0x3db003(0xdb)]&&(_0x5c89a9=_0x2e98b4[_0x3db003(0xe1)][_0x3db003(0xdb)]['caption']||'');}}}if(_0x5c89a9&&containsLink(_0x5c89a9)){const _0x5b2b76=_0x34daea+':'+_0x212a67;if(!global['warningLocks'])global['warningLocks']=new Set();if(global[_0x3db003(0xd1)][_0x3db003(0x103)](_0x5b2b76))continue;global['warningLocks'][_0x3db003(0xef)](_0x5b2b76);try{await this[_0x3db003(0x112)](_0x3fa9a3,_0x2e98b4,_0x34daea,_0x212a67,_0x2ee857);}finally{global['warningLocks'][_0x3db003(0xd3)](_0x5b2b76);}}}catch(_0xa6a0f){console['error'](_0x3db003(0xd0),_0xa6a0f);}}},_0x3fa9a3['ev']['on'](_0x259301(0xec),messageListener);},'stopListening'(_0x2bc9c6){const _0x427383=a0_0x509fb9;messageListener&&(_0x2bc9c6['ev'][_0x427383(0x126)](_0x427383(0xec),messageListener),messageListener=null);},async 'handleAction'(_0x287bb9,_0x1635c6,_0x2dfa23,_0x546d35,_0x3739a7){const _0xf27a98=a0_0x509fb9;try{await _0x287bb9[_0xf27a98(0x10a)](_0x2dfa23,{'delete':_0x1635c6['key']});}catch(_0x4a1c40){console['error'](_0xf27a98(0xe4),_0x4a1c40);}switch(_0x3739a7[_0xf27a98(0x130)]){case'kick':try{await _0x287bb9['groupParticipantsUpdate'](_0x2dfa23,[_0x546d35],_0xf27a98(0xf5)),await _0x287bb9[_0xf27a98(0x10a)](_0x2dfa23,{'text':'@'+_0x546d35[_0xf27a98(0x108)]('@')[0x0]+_0xf27a98(0x12b),'mentions':[_0x546d35]});}catch(_0x228a6f){console[_0xf27a98(0xe6)]('Error\x20kicking\x20user:',_0x228a6f);}break;case _0xf27a98(0x100):_0x3739a7[_0xf27a98(0xe0)][_0x546d35]=(_0x3739a7[_0xf27a98(0xe0)][_0x546d35]||0x0)+0x1,await this['updateConfig'](_0x2dfa23,_0x3739a7);if(_0x3739a7[_0xf27a98(0xe0)][_0x546d35]>=_0x3739a7[_0xf27a98(0x101)])try{await _0x287bb9[_0xf27a98(0xff)](_0x2dfa23,[_0x546d35],_0xf27a98(0xf5)),await _0x287bb9[_0xf27a98(0x10a)](_0x2dfa23,{'text':'@'+_0x546d35[_0xf27a98(0x108)]('@')[0x0]+_0xf27a98(0xe7),'mentions':[_0x546d35]}),_0x3739a7['warnings'][_0x546d35]=0x0,await this[_0xf27a98(0x129)](_0x2dfa23,_0x3739a7);}catch(_0xc4d888){console[_0xf27a98(0xe6)]('Error\x20kicking\x20user\x20after\x20warnings:',_0xc4d888);}else await _0x287bb9['sendMessage'](_0x2dfa23,{'text':'_*Warning!'+_0x3739a7[_0xf27a98(0xe0)][_0x546d35]+'/'+_0x3739a7[_0xf27a98(0x101)]+_0xf27a98(0x12f)+_0x546d35[_0xf27a98(0x108)]('@')[0x0]+',\x20*_Links\x20Are\x20Not\x20allowed!_*','mentions':[_0x546d35]});break;case'delete':await _0x287bb9[_0xf27a98(0x10a)](_0x2dfa23,{'text':'*@'+_0x546d35[_0xf27a98(0x108)]('@')[0x0]+_0xf27a98(0x11b),'mentions':[_0x546d35]});break;}},async 'init'(_0x19c7ea){const _0x1db38e=a0_0x509fb9;try{const _0xf7df84=path[_0x1db38e(0x113)](configPath);await fs[_0x1db38e(0x127)](_0xf7df84,{'recursive':!![]});try{const _0x52ae11=await fs[_0x1db38e(0x124)](configPath,_0x1db38e(0x121)),_0x3c4946=JSON[_0x1db38e(0x10b)](_0x52ae11);groupConfigs=new Map(Object[_0x1db38e(0xdc)](_0x3c4946));}catch(_0x5118ba){await fs[_0x1db38e(0x116)](configPath,'{}',_0x1db38e(0x121)),groupConfigs=new Map();}setupConfigWatcher(),[...groupConfigs['values']()]['some'](_0x2dbf5c=>_0x2dbf5c[_0x1db38e(0x10f)])&&this['startListening'](_0x19c7ea);}catch(_0x29a34a){console[_0x1db38e(0xe6)](_0x1db38e(0x104),_0x29a34a);throw _0x29a34a;}}};