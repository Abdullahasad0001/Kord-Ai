const a0_0x5e1466=a0_0x11a5;(function(_0x27f9ee,_0x45450f){const _0x712028=a0_0x11a5,_0x42b77a=_0x27f9ee();while(!![]){try{const _0x5002e5=parseInt(_0x712028(0x1bb))/0x1*(parseInt(_0x712028(0x1af))/0x2)+-parseInt(_0x712028(0x1db))/0x3+parseInt(_0x712028(0x1d7))/0x4*(parseInt(_0x712028(0x1d6))/0x5)+-parseInt(_0x712028(0x1eb))/0x6+-parseInt(_0x712028(0x1e8))/0x7*(-parseInt(_0x712028(0x1c3))/0x8)+-parseInt(_0x712028(0x1cd))/0x9+-parseInt(_0x712028(0x1e7))/0xa*(-parseInt(_0x712028(0x1ad))/0xb);if(_0x5002e5===_0x45450f)break;else _0x42b77a['push'](_0x42b77a['shift']());}catch(_0x3937fc){_0x42b77a['push'](_0x42b77a['shift']());}}}(a0_0x4228,0x4ab82));function a0_0x213d(){const _0x33205d=a0_0x11a5,_0x9a0fb0=[_0x33205d(0x1a9),_0x33205d(0x1e6),_0x33205d(0x1bf),_0x33205d(0x1d0),_0x33205d(0x1d8),_0x33205d(0x1cf),_0x33205d(0x1d5),_0x33205d(0x1b3),_0x33205d(0x1c2),'\x0aAI:','composing',_0x33205d(0x1de),_0x33205d(0x1d4),'paused',_0x33205d(0x1b0),'7rxKwqE',_0x33205d(0x1cb),'add',_0x33205d(0x1b6),_0x33205d(0x1b7),_0x33205d(0x1c4),_0x33205d(0x1e1),'99zdWYqZ',_0x33205d(0x1ea),_0x33205d(0x1bd),_0x33205d(0x1ba),_0x33205d(0x1b8),'extendedTextMessage','messages.upsert',_0x33205d(0x1bc),_0x33205d(0x1e3),'content',_0x33205d(0x1e2),_0x33205d(0x1df),_0x33205d(0x1da),_0x33205d(0x1b5),'has',_0x33205d(0x1c7),_0x33205d(0x1aa),'‚úÖ\x20Chatbot\x20has\x20been\x20deactivated.','agentId','‚úÖ\x20Kord\x20AI\x20Chatbot\x20activated!\x20You\x20can\x20now\x20chat\x20with\x20me.',_0x33205d(0x1ce),_0x33205d(0x1d1),'540530BbZicv',_0x33205d(0x1b9),_0x33205d(0x1be),_0x33205d(0x1ab),_0x33205d(0x1e4),_0x33205d(0x1b1),'Chat\x20With\x20Mistral\x20AI\x20Bot','Failed\x20to\x20get\x20AI\x20response:\x20',_0x33205d(0x1d9),_0x33205d(0x1ae),_0x33205d(0x1c0),_0x33205d(0x1e0),_0x33205d(0x1c8),'45oiCMpj',_0x33205d(0x1dd),_0x33205d(0x1e5),_0x33205d(0x1d2),_0x33205d(0x1a8),_0x33205d(0x1c9),_0x33205d(0x1ac)];return a0_0x213d=function(){return _0x9a0fb0;},a0_0x213d();}const a0_0x245f70=a0_0x449f;(function(_0x7cca8b,_0x2cac2f){const _0x1c26cc=a0_0x11a5,_0x52748e=a0_0x449f,_0x2fee10=_0x7cca8b();while(!![]){try{const _0x58b71b=parseInt(_0x52748e(0x1fb))/0x1*(-parseInt(_0x52748e(0x203))/0x2)+-parseInt(_0x52748e(0x1ed))/0x3+-parseInt(_0x52748e(0x205))/0x4*(-parseInt(_0x52748e(0x1f8))/0x5)+parseInt(_0x52748e(0x1f4))/0x6+parseInt(_0x52748e(0x1ce))/0x7*(parseInt(_0x52748e(0x1f0))/0x8)+parseInt(_0x52748e(0x1d5))/0x9*(-parseInt(_0x52748e(0x1eb))/0xa)+parseInt(_0x52748e(0x1d2))/0xb;if(_0x58b71b===_0x2cac2f)break;else _0x2fee10[_0x1c26cc(0x1ba)](_0x2fee10[_0x1c26cc(0x1a9)]());}catch(_0x5e7333){_0x2fee10[_0x1c26cc(0x1ba)](_0x2fee10['shift']());}}}(a0_0x213d,0x4ddf1));function a0_0x11a5(_0x20e44d,_0x568c4e){const _0x42282f=a0_0x4228();return a0_0x11a5=function(_0x11a5dd,_0x4cbb5c){_0x11a5dd=_0x11a5dd-0x1a8;let _0x278e37=_0x42282f[_0x11a5dd];return _0x278e37;},a0_0x11a5(_0x20e44d,_0x568c4e);}function a0_0x449f(_0x575c75,_0x5542ca){const _0x4afb39=a0_0x213d();return a0_0x449f=function(_0x4c6178,_0x8d8f12){_0x4c6178=_0x4c6178-0x1ce;let _0x314e46=_0x4afb39[_0x4c6178];return _0x314e46;},a0_0x449f(_0x575c75,_0x5542ca);}const fs=require('fs')['promises'],path=require(a0_0x245f70(0x1e0)),{Mistral}=require(a0_0x245f70(0x20b)),emojis={'loading':'‚è≥','success':'‚ú®','error':'‚ùå'},configPath=path['join'](__dirname,'..','..',a0_0x5e1466(0x1b2),a0_0x245f70(0x1e9));let messageListener=null,activeChats=new Set(),chatHistory=new Map();const mistralClient=new Mistral({'apiKey':a0_0x245f70(0x1dd)}),AGENT_CONFIG={'agentId':a0_0x245f70(0x1f9)};function sanitizeMessage(_0x1f2122){const _0xe8824=a0_0x245f70;if(typeof _0x1f2122!==_0xe8824(0x206))return'';return _0x1f2122[_0xe8824(0x207)]();}async function getAIResponse(_0x4f035c,_0x1b3b92){const _0x5194b0=a0_0x5e1466,_0x23428a=a0_0x245f70,_0x46bd55=sanitizeMessage(_0x4f035c);if(!_0x46bd55)throw new Error(_0x5194b0(0x1cc));try{!chatHistory[_0x23428a(0x1e3)](_0x1b3b92)&&chatHistory[_0x23428a(0x1fd)](_0x1b3b92,[]);const _0x21bdd8=chatHistory['get'](_0x1b3b92),_0x1308fe='You\x27re\x20an\x20AI\x20that\x20only\x20speaks\x20in\x20Gen\x20Z\x20slang.\x20Make\x20sure\x20your\x20replies\x20are\x20funny,\x20sarcastic,\x20and\x20relatable,\x20but\x20still\x20serious\x20and\x20intelligent,\x20I\x20really\x20don\x27t\x20like\x20too\x20much\x20emojis.\x0a\x0a',_0x167a28=_0x1308fe+'User:\x20'+_0x46bd55+_0x23428a(0x208);_0x21bdd8[_0x23428a(0x1d8)]({'role':_0x23428a(0x200),'content':_0x167a28});while(_0x21bdd8[_0x23428a(0x1d3)]>0x19){_0x21bdd8[_0x23428a(0x1ff)]();}const _0x520e40=await mistralClient[_0x5194b0(0x1d3)][_0x5194b0(0x1ec)]({'agentId':AGENT_CONFIG[_0x23428a(0x1e7)],'messages':_0x21bdd8});if(!_0x520e40?.[_0x23428a(0x1f5)]?.[0x0]?.[_0x23428a(0x1d4)]?.[_0x23428a(0x1de)])throw new Error(_0x23428a(0x202));return _0x21bdd8[_0x23428a(0x1d8)]({'role':_0x5194b0(0x1b4),'content':_0x520e40[_0x23428a(0x1f5)][0x0][_0x23428a(0x1d4)][_0x23428a(0x1de)]}),_0x520e40[_0x5194b0(0x1c0)][0x0][_0x23428a(0x1d4)][_0x5194b0(0x1ca)];}catch(_0x37eb1b){console[_0x23428a(0x1d6)](_0x23428a(0x1e5),_0x37eb1b),chatHistory[_0x23428a(0x1cf)](_0x1b3b92);throw new Error(_0x23428a(0x1f2)+_0x37eb1b[_0x23428a(0x1d4)]);}}module[a0_0x245f70(0x1ee)]={'usage':[a0_0x245f70(0x1df)],'desc':a0_0x245f70(0x1f1),'commandType':a0_0x245f70(0x1d7),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'ü§ì',async 'execute'(_0x1459ff,_0x6ce920,_0x557b7c){const _0x103158=a0_0x5e1466,_0x162de5=a0_0x245f70,_0x3bc463=_0x6ce920[_0x162de5(0x1ec)][_0x162de5(0x1d9)],_0x3d9444=_0xd65158=>{const _0x4ce5f2=a0_0x11a5;return _0x1459ff[_0x4ce5f2(0x1b5)](_0x3bc463,{'text':_0xd65158});};if(_0x557b7c[0x0]==='on'){if(activeChats[_0x162de5(0x1e3)](_0x3bc463))return _0x3d9444(_0x162de5(0x1fa));return activeChats[_0x162de5(0x1d0)](_0x3bc463),chatHistory[_0x162de5(0x1fd)](_0x3bc463,[]),await this['updateConfig'](_0x3bc463,!![]),!messageListener&&this[_0x162de5(0x1f3)](_0x1459ff),_0x3d9444(_0x162de5(0x1e8));}else{if(_0x557b7c[0x0]===_0x162de5(0x1fc)){if(!activeChats[_0x162de5(0x1e3)](_0x3bc463))return _0x3d9444(_0x162de5(0x1d1));return activeChats[_0x103158(0x1cb)](_0x3bc463),chatHistory[_0x162de5(0x1cf)](_0x3bc463),await this[_0x162de5(0x1e1)](_0x3bc463,![]),activeChats[_0x162de5(0x20d)]===0x0&&messageListener&&(_0x1459ff['ev'][_0x162de5(0x1fc)](_0x162de5(0x1db),messageListener),messageListener=null),_0x3d9444(_0x162de5(0x1e6));}else return _0x3d9444(_0x162de5(0x1ef));}},async 'updateConfig'(_0x368641,_0x59555e){const _0x300423=a0_0x5e1466,_0x4f35e5=a0_0x245f70;try{let _0x2554f5={};_0x59555e&&(_0x2554f5[_0x368641]=!![]),await fs[_0x4f35e5(0x1ea)](configPath,JSON[_0x4f35e5(0x201)](_0x2554f5,null,0x2));}catch(_0x40aab6){console[_0x300423(0x1ea)](_0x4f35e5(0x1fe),_0x40aab6);throw new Error(_0x300423(0x1c6));}},'startListening'(_0x3840ae){const _0x187361=a0_0x245f70;messageListener=async({messages:_0x197293})=>{const _0x14b168=a0_0x11a5,_0x35191a=a0_0x449f;for(const _0x299db6 of _0x197293){if(!_0x299db6?.[_0x14b168(0x1b9)]?.[_0x14b168(0x1b8)]||!activeChats[_0x14b168(0x1dc)](_0x299db6[_0x35191a(0x1ec)][_0x35191a(0x1d9)]))continue;const _0x43c7e4=_0x299db6[_0x35191a(0x1ec)][_0x35191a(0x1d9)],_0x800396=_0x299db6[_0x35191a(0x1d4)]?.[_0x14b168(0x1e9)]||_0x299db6[_0x35191a(0x1d4)]?.[_0x35191a(0x1da)]?.[_0x35191a(0x1e4)]||'';if(!_0x800396||_0x299db6['key'][_0x35191a(0x20a)])continue;try{await _0x3840ae[_0x14b168(0x1e0)](_0x35191a(0x209),_0x43c7e4),await _0x3840ae[_0x14b168(0x1b5)](_0x43c7e4,{'react':{'key':_0x299db6[_0x35191a(0x1ec)],'emoji':emojis[_0x14b168(0x1c5)]}});const _0x9d54be=await getAIResponse(_0x800396,_0x43c7e4);await _0x3840ae[_0x35191a(0x1e2)](_0x43c7e4,{'react':{'key':_0x299db6[_0x35191a(0x1ec)],'emoji':emojis[_0x14b168(0x1c1)]}}),await _0x3840ae[_0x14b168(0x1b5)](_0x43c7e4,{'text':_0x9d54be,'contextInfo':{'quotedMessage':_0x299db6[_0x35191a(0x1d4)]}});}catch(_0x4653f9){console[_0x14b168(0x1ea)](_0x14b168(0x1ed),_0x4653f9),await _0x3840ae[_0x14b168(0x1b5)](_0x43c7e4,{'react':{'key':_0x299db6[_0x35191a(0x1ec)],'emoji':emojis[_0x35191a(0x1d6)]}}),await _0x3840ae[_0x35191a(0x1e2)](_0x43c7e4,{'text':_0x35191a(0x1dc)+_0x4653f9[_0x35191a(0x1d4)]});}finally{await _0x3840ae[_0x35191a(0x1f6)](_0x35191a(0x20c),_0x43c7e4);}}},_0x3840ae['ev']['on'](_0x187361(0x1db),messageListener);},async 'init'(_0x33eb7a){const _0x476794=a0_0x245f70;try{await fs[_0x476794(0x1ea)](configPath,'{}',_0x476794(0x204)),activeChats[_0x476794(0x1f7)](),chatHistory[_0x476794(0x1f7)](),messageListener&&(_0x33eb7a['ev'][_0x476794(0x1fc)](_0x476794(0x1db),messageListener),messageListener=null);}catch(_0x48c400){console[_0x476794(0x1d6)]('Error\x20initializing\x20chatbot:',_0x48c400);}}};function a0_0x4228(){const _0x238c06=['1579878IZqgAE','has','ag:4151fcb9:20250104:untitled-agent:d1bde2e5','fromMe','path','sendPresenceUpdate','message','g-chatbot','AA46jQW0VLsz2x7FW7sCUnBVIpBaa1qW','‚ùå\x20Usage:\x20.chatbot\x20on/off','‚ö†Ô∏è\x20Chatbot\x20is\x20already\x20active\x20in\x20this\x20chat!','user','13970WaBBnw','1059093QLBXFQ','conversation','error','1256118ZuJrXF','complete','Chatbot\x20error:','off','shift','Mistral\x20API\x20error:','exports','Error\x20updating\x20config:','9405NhdGrY','2061462fNZgyT','12DUBVHm','size','3386480hwsMFQ','Database','string','assistant','sendMessage','‚ö†Ô∏è\x20Chatbot\x20is\x20already\x20inactive\x20in\x20this\x20chat!','3289770XRKwvX','remoteJid','key','push','17641tJvoaw','‚ùå\x20Sorry,\x20I\x20encountered\x20an\x20error:\x20','Bot','155049CkASds','stringify','choices','success','trim','8SSWsyM','length','loading','Failed\x20to\x20update\x20configuration','text','clear','set','content','delete','Empty\x20message','5505273qoiPXQ','g-chatbot_config.json','utf8','Invalid\x20response\x20format\x20from\x20Mistral\x20AI','writeFile','191wJqodx','agents','@mistralai/mistralai','16436kvDWHt','24065SJaxEs','168faZWfx','1442OaQSdL','startListening','updateConfig'];a0_0x4228=function(){return _0x238c06;};return a0_0x4228();}